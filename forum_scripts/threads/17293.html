<html><body><link rel="stylesheet" type="text/css" href="style.css"/><div id="posts"><!-- post #30942 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit30942" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post30942" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=30942&amp;postcount=1" target="new" rel="nofollow" id="postcount30942" name="1"><strong>1</strong></a> &nbsp;
			
			
			<a href="report.php?p=30942" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post30942"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Aug 13th, 2005, 03:28 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_30942">
<a class="bigusername" href="member.php?u=11669">david.easley</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="david.easley is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_30942", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2005</div>
<div>Location: Nottingham, UK</div>
<div>
						Posts: 8
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_30942">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
<strong>Does SWF play nicely with traditional Struts ActionForms?</strong>
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_30942">
			
			The Struts sample app (birthdate) uses a SpringBindingActionForm. I want to integrate SWF in to an existing Struts project that uses a lot of DynaValidatorForms. I note the JavaDoc for FlowAction really sells the idea of using SpringBindingActionForm, but I'm wondering if this is realistic when integrating SWF into an existing project. Is it advisable to continue using ones existing Struts ActionForms in this situation?<br />
<br />
David
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=30942" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=30942" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_30942" /></a>
<a href="newreply.php?do=newreply&amp;p=30942" rel="nofollow" id="qr_30942" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 30942 popup menu -->
<div class="vbmenu_popup" id="postmenu_30942_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">david.easley</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=11669">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=11669" rel="nofollow">Send a private message to david.easley</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=11669" rel="nofollow">Find all posts by david.easley</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=11669">Add david.easley to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 30942 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #30942 --><!-- post #30945 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit30945" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post30945" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=30945&amp;postcount=2" target="new" rel="nofollow" id="postcount30945" name="2"><strong>2</strong></a> &nbsp;
			
			
			<a href="report.php?p=30945" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post30945"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Aug 13th, 2005, 04:36 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td class="alt2"><a href="member.php?u=6371"><img src="image.php?u=6371&amp;dateline=1288973702" width="56" height="77" alt="Keith Donald's Avatar" border="0" /></a></td>
<td nowrap="nowrap">
<div id="postmenu_30945">
<a class="bigusername" href="member.php?u=6371">Keith Donald</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Keith Donald is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_30945", true); </script>
</div>
<div class="smallfont">Web App Development Lead</div>
<div class="smallfont">Spring Team</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>Location: Melbourne, FL</div>
<div>
						Posts: 2,555
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_30945">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_30945">
			
			While I would recommend use of SpringBindingActionForm for new use cases,  SWF does certainly play &quot;nice&quot; with standard ActionForms.<br />
<br />
See FlowAction - the ActionForm is available in the requestContext.getSourceEvent() as a parameter of StrutsEvent.<br />
<br />
Keith
		</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Keith Donald<br />
Core Spring Development Team
			</div>
<!-- / sig -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=30945" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=30945" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_30945" /></a>
<a href="newreply.php?do=newreply&amp;p=30945" rel="nofollow" id="qr_30945" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 30945 popup menu -->
<div class="vbmenu_popup" id="postmenu_30945_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Keith Donald</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=6371">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=6371" rel="nofollow">Send a private message to Keith Donald</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://blog.springsource.com">Visit Keith Donald's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=6371" rel="nofollow">Find all posts by Keith Donald</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=6371">Add Keith Donald to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 30945 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #30945 --><!-- post #30988 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit30988" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post30988" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=30988&amp;postcount=3" target="new" rel="nofollow" id="postcount30988" name="3"><strong>3</strong></a> &nbsp;
			
			
			<a href="report.php?p=30988" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post30988"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Aug 15th, 2005, 08:03 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_30988">
<a class="bigusername" href="member.php?u=11669">david.easley</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="david.easley is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_30988", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2005</div>
<div>Location: Nottingham, UK</div>
<div>
						Posts: 8
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_30988">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_30988">
			
			I attempted to convert the birthdate sample to use a DynaValidatorForm.<br />
<br />
struts-config.xml:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 114px;
		text-align: left;
		overflow: auto">    
    &lt;form-bean name=&quot;actionForm&quot;
                  type=&quot;org.apache.struts.validator.DynaValidatorForm&quot;&gt;
      &lt;form-property name=&quot;name&quot; type=&quot;java.lang.String&quot;/&gt;
      &lt;form-property name=&quot;date&quot; type=&quot;java.lang.String&quot;/&gt;
    &lt;/form-bean&gt;</pre>
</div>BirthDateFormAction.java:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 498px;
		text-align: left;
		overflow: auto">    public BirthDateFormAction&#40;&#41; &#123;
        // tell the superclass about the form object and validator we want to
        // use you could also do this in the application context XML ofcourse
//        setFormObjectName&#40;BIRTHDATE_FORM_OBJECT_NAME&#41;;
//        setFormObjectClass&#40;BirthDate.class&#41;;
//        setValidator&#40;new BirthDateValidator&#40;&#41;&#41;;
    &#125;

//  protected void initBinder&#40;RequestContext context, DataBinder binder&#41; &#123;
//      // register a custom property editor to handle the date input
//      SimpleDateFormat dateFormat = new SimpleDateFormat&#40;BIRTH_DATE_PATTERN&#41;;
//      binder.registerCustomEditor&#40;Date.class, new CustomDateEditor&#40;dateFormat, false&#41;&#41;;
//  &#125;

    /*
     * Our &quot;onSubmit&quot; hook&#58; an action execute method.
     */
    public Event calculateAge&#40;RequestContext context&#41; throws Exception &#123;
        // pull the date from the model
//        BirthDate birthDate = &#40;BirthDate&#41;context.getRequestScope&#40;&#41;.get&#40;BIRTHDATE_FORM_OBJECT_NAME&#41;;

        //&#91;DPE&#93;
        // Get the dyna form
        StrutsEvent event = &#40;StrutsEvent&#41; context.getSourceEvent&#40;&#41;;
        DynaActionForm form = &#40;DynaActionForm&#41; event.getActionForm&#40;&#41;;
        String name = form.getString&#40;&quot;name&quot;&#41;;
        SimpleDateFormat sdf = new SimpleDateFormat&#40;BIRTH_DATE_PATTERN&#41;;
        Date date = sdf.parse&#40;form.getString&#40;&quot;date&quot;&#41;&#41;;
        BirthDate birthDate = new BirthDate&#40;name, date&#41;;

        .... &#91;as before&#93;</pre>
</div>First of all I got a 500 error with message &quot;No input attribute for mapping path /birthdate&quot; as soon as I click the &quot;Birth Date&quot; link from the welcome page to go to &quot;birthdate.do?_flowId=birthdate&quot;. The action mapping (unaltered from the original birthdate sample) is:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 82px;
		text-align: left;
		overflow: auto">    &lt;action path=&quot;/birthdate&quot;
      name=&quot;actionForm&quot;
      scope=&quot;request&quot;
      type=&quot;org.springframework.webflow.struts.FlowAction&quot;/&gt;</pre>
</div>There is no input attribute because we don't intend to do any validation here (well, not for the initial GET request anyway), so it's not appropriate to specify a view to go back to. Of course, &quot;actionForm&quot; is now a DynaValidatorForm. I infer from the error message that the (currently empty) form is being validated at this inappropriate stage.<br />
<br />
Second, just as a temp hack to see whether other problems lay ahead, I effectively switched off the validation by commenting out all the property validations in validation.xml. Now things proceed a bit further and I get &quot;Cannot create form object without formObjectClass being set -- either set formObjectClass or override this method&quot;. Does it make sense that I still have to set formObjectClass even though I'm not using Spring MVC binding?<br />
<br />
Also, any ideas on how to get the DynaValidatorForm based validation working properly with SWF?<br />
<br />
Thanks for any help,<br />
David
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=30988" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=30988" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_30988" /></a>
<a href="newreply.php?do=newreply&amp;p=30988" rel="nofollow" id="qr_30988" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 30988 popup menu -->
<div class="vbmenu_popup" id="postmenu_30988_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">david.easley</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=11669">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=11669" rel="nofollow">Send a private message to david.easley</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=11669" rel="nofollow">Find all posts by david.easley</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=11669">Add david.easley to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 30988 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #30988 --><!-- post #31001 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit31001" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post31001" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=31001&amp;postcount=4" target="new" rel="nofollow" id="postcount31001" name="4"><strong>4</strong></a> &nbsp;
			
			
			<a href="report.php?p=31001" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post31001"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Aug 15th, 2005, 10:02 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td class="alt2"><a href="member.php?u=6371"><img src="image.php?u=6371&amp;dateline=1288973702" width="56" height="77" alt="Keith Donald's Avatar" border="0" /></a></td>
<td nowrap="nowrap">
<div id="postmenu_31001">
<a class="bigusername" href="member.php?u=6371">Keith Donald</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Keith Donald is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_31001", true); </script>
</div>
<div class="smallfont">Web App Development Lead</div>
<div class="smallfont">Spring Team</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>Location: Melbourne, FL</div>
<div>
						Posts: 2,555
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_31001">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_31001">
			
			It does not make sense now to extend FormAction, as you're no longer using Spring's form data binding and validation capabilities.  I'd just extend MultiAction. Nothing else should have to change.<br />
<br />
Not sure about the other problem yet.What is happening there again?  I have a hunch, it's trying to validate the form and failing so going back to the form view -- but no &quot;input&quot; view is set.  We don't really have control over that workflow as it happens before the request gets to the webflow system in the RequestProcessor.
		</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Keith Donald<br />
Core Spring Development Team
			</div>
<!-- / sig -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=31001" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=31001" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_31001" /></a>
<a href="newreply.php?do=newreply&amp;p=31001" rel="nofollow" id="qr_31001" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 31001 popup menu -->
<div class="vbmenu_popup" id="postmenu_31001_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Keith Donald</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=6371">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=6371" rel="nofollow">Send a private message to Keith Donald</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://blog.springsource.com">Visit Keith Donald's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=6371" rel="nofollow">Find all posts by Keith Donald</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=6371">Add Keith Donald to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 31001 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #31001 --><!-- post #31012 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit31012" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post31012" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=31012&amp;postcount=5" target="new" rel="nofollow" id="postcount31012" name="5"><strong>5</strong></a> &nbsp;
			
			
			<a href="report.php?p=31012" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post31012"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Aug 15th, 2005, 01:03 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_31012">
<a class="bigusername" href="member.php?u=11669">david.easley</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="david.easley is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_31012", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2005</div>
<div>Location: Nottingham, UK</div>
<div>
						Posts: 8
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_31012">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_31012">
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
			
				It does not make sense now to extend FormAction, as you're no longer using Spring's form data binding and validation capabilities. I'd just extend MultiAction. Nothing else should have to change.
			
		</td>
</tr>
</table>
</div>OK, I switched to MultiAction and omitted the calls to setupForm and bindAndValidate. It's now working (with validation still commented out in validation.xml).<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
			
				Not sure about the other problem yet.What is happening there again? I have a hunch, it's trying to validate the form and failing so going back to the form view -- but no &quot;input&quot; view is set. We don't really have control over that workflow as it happens before the request gets to the webflow system in the RequestProcessor.
			
		</td>
</tr>
</table>
</div>That's kind of what I was thinking. I suppose Struts creates the request scope dyna form on receiving the initial GET request to birthdate.do. No name/date parameters will be found in the request so the form remains blank. Struts calls validate on the form as usual and the form signals that it's invalid. This causes Struts to refer to the input attribute, to find out where to go back to, and gives an error because it's not present.  Just to help verify this theory, I provided an input attribute (set to &quot;/WEB-INF/jsp/enterBirthdate.jsp&quot;) and then I got the form displayed (though strangley with two blank error messages - some other problem I presume).<br />
<br />
Any way to make this work while keeping my precious DynaValidatorForms (or any other kind of Struts form that uses the ActionForm.validate() method for that matter)?<br />
<br />
David
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=31012" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=31012" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_31012" /></a>
<a href="newreply.php?do=newreply&amp;p=31012" rel="nofollow" id="qr_31012" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 31012 popup menu -->
<div class="vbmenu_popup" id="postmenu_31012_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">david.easley</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=11669">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=11669" rel="nofollow">Send a private message to david.easley</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=11669" rel="nofollow">Find all posts by david.easley</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=11669">Add david.easley to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 31012 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #31012 --><!-- post #31025 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit31025" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post31025" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=31025&amp;postcount=6" target="new" rel="nofollow" id="postcount31025" name="6"><strong>6</strong></a> &nbsp;
			
			
			<a href="report.php?p=31025" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post31025"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Aug 15th, 2005, 04:12 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td class="alt2"><a href="member.php?u=6371"><img src="image.php?u=6371&amp;dateline=1288973702" width="56" height="77" alt="Keith Donald's Avatar" border="0" /></a></td>
<td nowrap="nowrap">
<div id="postmenu_31025">
<a class="bigusername" href="member.php?u=6371">Keith Donald</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Keith Donald is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_31025", true); </script>
</div>
<div class="smallfont">Web App Development Lead</div>
<div class="smallfont">Spring Team</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>Location: Melbourne, FL</div>
<div>
						Posts: 2,555
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_31025">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_31025">
			
			You (or we) will have to customize Struts, no doubt about it.  I guess that means tweaking the RequestProcessor.  What behavior do you want to see if a validation error occurs, specifically?
		</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Keith Donald<br />
Core Spring Development Team
			</div>
<!-- / sig -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=31025" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=31025" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_31025" /></a>
<a href="newreply.php?do=newreply&amp;p=31025" rel="nofollow" id="qr_31025" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 31025 popup menu -->
<div class="vbmenu_popup" id="postmenu_31025_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Keith Donald</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=6371">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=6371" rel="nofollow">Send a private message to Keith Donald</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://blog.springsource.com">Visit Keith Donald's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=6371" rel="nofollow">Find all posts by Keith Donald</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=6371">Add Keith Donald to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 31025 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #31025 --><!-- post #31106 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit31106" style="padding:0px 0px 6px 0px">
<table class="tborder" id="post31106" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=31106&amp;postcount=7" target="new" rel="nofollow" id="postcount31106" name="7"><strong>7</strong></a> &nbsp;
			
			
			<a href="report.php?p=31106" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post31106"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Aug 16th, 2005, 07:54 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_31106">
<a class="bigusername" href="member.php?u=11669">david.easley</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="david.easley is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_31106", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2005</div>
<div>Location: Nottingham, UK</div>
<div>
						Posts: 8
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_31106">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_31106">
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
			
				What behavior do you want to see if a validation error occurs, specifically?
			
		</td>
</tr>
</table>
</div>Well, I guess I would want it to work in an equivalent way to FormAction.bindAndValidate.<br />
The following rough and ready hack seems to work (for the birthdate sample at least):<br />
<br />
Sub-class RequestProcessor (FlowRequestProcessor) to skip form validation when dealing with a SWF flow. The contract with the programmer is that they must expose some 'validate' method from their Action class and to invoke this via the flow definition at the appropriate time. (This counterparts the bindAndValidate method in FormAction.) This validate method delegates to the Struts ActionForm's validate() method. If errors are returned (i) these are added to Globals.ERROR_KEY request attribute and (ii) an &quot;error&quot; event is returned (to the flow manager). Otherwise, a &quot;success&quot; event is returned.<br />
<br />
That just leaves the question of how FlowRequestProcessor recognise SWF flows: Only thing I can think of (and this really does feel like a hack) is to apply some naming convention to the action path, e.g.<br />
action path=&quot;/birthdate_flow&quot;. FlowRequestProcessor.processValidate() parses for &quot;_flow&quot; in the request URI. If found, return true (to continue processing without validation). Otherwise (not in a flow), call super.processValidate().<br />
<br />
FlowRequestProcessor.java:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 162px;
		text-align: left;
		overflow: auto">    protected boolean processValidate&#40;HttpServletRequest request, HttpServletResponse response,
            ActionForm form, ActionMapping mapping&#41; throws IOException, ServletException
    &#123;
        String uri = request.getRequestURI&#40;&#41;;
        if &#40;uri.indexOf&#40;&quot;_flow&quot;&#41; != -1&#41;
            return true; // Continue processing without validation

        return super.processValidate&#40;request, response, form, mapping&#41;;
    &#125;</pre>
</div>Example validate method from the Action class:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 274px;
		text-align: left;
		overflow: auto">	public Event validate&#40;RequestContext context&#41; throws Exception &#123;
        // Get the Struts ActionForm
    	StrutsEvent event = &#40;StrutsEvent&#41; context.getSourceEvent&#40;&#41;;
    	ActionForm form = &#40;ActionForm&#41; event.getActionForm&#40;&#41;;
    	
    	// Invoke the form's validation
    	ActionMapping mapping = event.getActionMapping&#40;&#41;;
    	HttpServletRequest request = event.getRequest&#40;&#41;;
    	ActionErrors errors = form.validate&#40;mapping, request&#41;;

    	// Deal with the outcome
    	if &#40;&#40;errors == null&#41; || errors.isEmpty&#40;&#41;&#41;
            return success&#40;&#41;;
        request.setAttribute&#40;Globals.ERROR_KEY, errors&#41;;
    	return error&#40;&#41;;
	&#125;</pre>
</div>(Actually, that looks like it might be generic.)<br />
<br />
The adjusted birthdate-flow.xml file:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 162px;
		text-align: left;
		overflow: auto">&lt;webflow id=&quot;birthdate&quot; start-state=&quot;enterBirthdate&quot;&gt;

	&lt;view-state id=&quot;enterBirthdate&quot; view=&quot;enterBirthdate&quot;&gt;
		&lt;transition on=&quot;submit&quot; to=&quot;calculateAge&quot;&gt;
			&lt;action bean=&quot;myAction&quot; method=&quot;validate&quot;/&gt;
		&lt;/transition&gt;
	&lt;/view-state&gt;

	... as before ...</pre>
</div>How does this approach sound? It works for the simple birthdate sample, but can you imagine it working in the general case? <br />
<br />
Just thought of one problem: What if the flow needs to use a number of different forms? The name attribute in the Struts action mapping that launches the flow only references a single form. Does this mean you have to use the (one size fits all) SpringBindingActionForm if you need a number of different forms within a flow?<br />
<br />
David<br />
<br />
PS. The validation messages coming out blank was a completely unrelated problem, as I suspected.
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=31106" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=31106" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_31106" /></a>
<a href="newreply.php?do=newreply&amp;p=31106" rel="nofollow" id="qr_31106" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 31106 popup menu -->
<div class="vbmenu_popup" id="postmenu_31106_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">david.easley</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=11669">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=11669" rel="nofollow">Send a private message to david.easley</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=11669" rel="nofollow">Find all posts by david.easley</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=11669">Add david.easley to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 31106 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #31106 --><div id="lastpost"></div></div></body></html>