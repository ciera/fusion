<html><body><link rel="stylesheet" type="text/css" href="style.css"/><div id="posts"><!-- post #120530 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120530" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120530" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120530&amp;postcount=1" target="new" rel="nofollow" id="postcount120530" name="1"><strong>1</strong></a> &nbsp;
			
			
			<a href="report.php?p=120530" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120530"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 17th, 2007, 10:31 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120530">
<a class="bigusername" href="member.php?u=26001">Encrypt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Encrypt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120530", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: May 2007</div>
<div>
						Posts: 62
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120530">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon9.gif" alt="Unhappy" border="0" />
<strong>Spring and hibernate sessions</strong>
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120530">
			
			Hi all,<br />
I was under the impression I had set my application up to use session per thread &quot;mode&quot;, possible along with transactions.<br />
<br />
But it has made my problems worse.<br />
<br />
Now no matter what I do I get :<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">could not initialize proxy - the owning Session was closed</pre>
</div>If i turn lazy loading off in the mapping files it works ok.<br />
<br />
So I guess my understanding is wrong, I was assuming, for some reason that I was only using one thread, no before you laugh, here is what I am doing.<br />
<br />
Request for the front page is made, (I thought tomcat started teh a thread for teh new html session)<br />
User logs in and is authenticated, the authenticated user is put on the html session  (I am assuming this is still using the same thread)<br />
I click link to create a user, and i get the exception, now i assumed that the request to create user page would be on teh same thread that the user logged in with.<br />
<br />
I am so totally confused, and thinking of backing out the session per thread and transaction stuff, and just turn lazy loading off so I can get this finished<br />
<br />
Thanks<br />
<img src="images/smilies/confused.gif" border="0" alt="" title="Confused" class="inlineimg" />
</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120530" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120530" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120530" /></a>
<a href="newreply.php?do=newreply&amp;p=120530" rel="nofollow" id="qr_120530" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120530 popup menu -->
<div class="vbmenu_popup" id="postmenu_120530_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Encrypt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=26001">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=26001" rel="nofollow">Send a private message to Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=26001" rel="nofollow">Find all posts by Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=26001">Add Encrypt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120530 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120530 --><!-- post #120571 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120571" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120571" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120571&amp;postcount=2" target="new" rel="nofollow" id="postcount120571" name="2"><strong>2</strong></a> &nbsp;
			
			
			<a href="report.php?p=120571" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120571"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 17th, 2007, 01:24 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120571">
<a class="bigusername" href="member.php?u=19733">karldmoore</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="karldmoore is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120571", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2006</div>
<div>
						Posts: 8,425
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120571">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120571">
			
			The problem here is due to the scope of the Session.  As long as the Session is open that loaded the object you can lazy load the properties.  The problem here is that this won't be the case for the user's HttpSession.  You would need one Hibernate Session to last for the entire HttpSession, probably not a good idea.  The alternative is to eagerly load the items.<br />
<br />
#1. Set assocation lazy=false (wouldn't do that unless its the only option)<br />
<br />
#2. Eagerly load in HQL or Criteria API <br />
<a href="http://www.hibernate.org/hib_docs/v3/reference/en/html_single/#queryhql-joins" target="_blank" rel="nofollow">http://www.hibernate.org/hib_docs/v3...queryhql-joins</a><br />
<a href="http://www.hibernate.org/hib_docs/v3/reference/en/html_single/#querycriteria-dynamicfetching" target="_blank" rel="nofollow">http://www.hibernate.org/hib_docs/v3...ynamicfetching</a><br />
<br />
#3. Use HibernateTemplate.initialize()<br />
<a href="http://www.hibernate.org/hib_docs/v3/api/org/hibernate/Hibernate.html#initialize(java.lang.Object)" target="_blank" rel="nofollow">http://www.hibernate.org/hib_docs/v3...a.lang.Object)</a><br />
<br />
#4. Walk the association inside the session (i.e. collection.size())<br />
<a href="http://www.hibernate.org/hib_docs/v3/reference/en/html_single/#performance-fetching-lazy" target="_blank" rel="nofollow">http://www.hibernate.org/hib_docs/v3...-fetching-lazy</a>
</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Senior Java Developer<br />
<a href="http://twitter.com/karldmoore" target="_blank">http://twitter.com/karldmoore</a>
</div>
<!-- / sig -->
<!-- edit note -->
<div class="smallfont">
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<em>
					
						Last edited by karldmoore; Aug 30th, 2007 at <span class="time">08:17 AM</span>.
					
					
				</em>
</div>
<!-- / edit note -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120571" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120571" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120571" /></a>
<a href="newreply.php?do=newreply&amp;p=120571" rel="nofollow" id="qr_120571" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120571 popup menu -->
<div class="vbmenu_popup" id="postmenu_120571_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">karldmoore</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=19733">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=19733" rel="nofollow">Send a private message to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=19733" rel="nofollow">Send email to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=19733" rel="nofollow">Find all posts by karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=19733">Add karldmoore to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120571 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120571 --><!-- post #120615 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120615" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120615" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120615&amp;postcount=3" target="new" rel="nofollow" id="postcount120615" name="3"><strong>3</strong></a> &nbsp;
			
			
			<a href="report.php?p=120615" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120615"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 17th, 2007, 06:12 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120615">
<a class="bigusername" href="member.php?u=26001">Encrypt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Encrypt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120615", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: May 2007</div>
<div>
						Posts: 62
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120615">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120615">
			
			I wonder were I got the Idea that a html session was one thread.<br />
I think I understand about hibernate sessions a bit more, and although I aint sure what pattern I am using, I think number 3 is the best option for me.<br />
<br />
I have a set of Dao that are doing all the data accessing, so 3 sounds like the best fit.<br />
<br />
Thanks<br />
Gavin
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120615" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120615" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120615" /></a>
<a href="newreply.php?do=newreply&amp;p=120615" rel="nofollow" id="qr_120615" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120615 popup menu -->
<div class="vbmenu_popup" id="postmenu_120615_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Encrypt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=26001">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=26001" rel="nofollow">Send a private message to Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=26001" rel="nofollow">Find all posts by Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=26001">Add Encrypt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120615 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120615 --><!-- post #120669 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120669" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120669" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120669&amp;postcount=4" target="new" rel="nofollow" id="postcount120669" name="4"><strong>4</strong></a> &nbsp;
			
			
			<a href="report.php?p=120669" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120669"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 18th, 2007, 03:02 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120669">
<a class="bigusername" href="member.php?u=19733">karldmoore</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="karldmoore is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120669", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2006</div>
<div>
						Posts: 8,425
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120669">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120669">
			
			Glad the information helped you get your head around Hibernate's Session a little more.  I'd have a look at the Hibernate reference manual if you want more details.
		</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Senior Java Developer<br />
<a href="http://twitter.com/karldmoore" target="_blank">http://twitter.com/karldmoore</a>
</div>
<!-- / sig -->
<!-- edit note -->
<div class="smallfont">
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<em>
					
						Last edited by karldmoore; Aug 30th, 2007 at <span class="time">08:17 AM</span>.
					
					
				</em>
</div>
<!-- / edit note -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120669" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120669" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120669" /></a>
<a href="newreply.php?do=newreply&amp;p=120669" rel="nofollow" id="qr_120669" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120669 popup menu -->
<div class="vbmenu_popup" id="postmenu_120669_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">karldmoore</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=19733">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=19733" rel="nofollow">Send a private message to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=19733" rel="nofollow">Send email to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=19733" rel="nofollow">Find all posts by karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=19733">Add karldmoore to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120669 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120669 --><!-- post #120911 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120911" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120911" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120911&amp;postcount=5" target="new" rel="nofollow" id="postcount120911" name="5"><strong>5</strong></a> &nbsp;
			
			
			<a href="report.php?p=120911" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120911"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 20th, 2007, 06:03 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120911">
<a class="bigusername" href="member.php?u=26001">Encrypt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Encrypt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120911", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: May 2007</div>
<div>
						Posts: 62
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120911">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120911">
			
			Hi,<br />
still having the own session closed issues with this and its doing my head in.<br />
It dosnt work how I expect it too.......(I thought that was a big maxium in modern development <img src="images/smilies/wink.gif" border="0" alt="" title="Wink" class="inlineimg" /> just teasing)<br />
<br />
So I have set my config up for: Declarative Transaction Demarcation (as per this <a href="http://simoes.org/docs/hibernate-2.1/110.html" target="_blank" rel="nofollow">artical</a>), only I had to add a sessionFactory to he Dao implementation, I guess I could have just added a hibernateTemplate stright from the sessionFactory, but I wanted to follow the example as close as possible, and have tried with a hibernateTemplate before.<br />
<br />
Dao code:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 418px;
		text-align: left;
		overflow: auto">public class ProductDaoHb extends HibernateDaoSupport implements ProductDao 
{
   public void createProduct(Product product) 
   {
      this.getHibernateTemplate().saveOrUpdate(product);
   }

   public Product getProductByOid(int oid) 
   {
       Product product = (Product)this.getHibernateTemplate().load(Product.class, oid); 
       return product;
   }

   public List getProducts() 
   {
      return this.getHibernateTemplate().loadAll(Product.class);
   }

   public List getProductsByType(ProductType type) 
   {
       // TODO Auto-generated method stub
       return null;
   }

}</pre>
</div>and I have a simpleFormController with the following code:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 482px;
		text-align: left;
		overflow: auto">protected Map referenceData(HttpServletRequest request) throws Exception 
{
  Map prodModel = new HashMap();
  List prodList = this._productService.getProducts();
   
  prodModel.put(&quot;productList&quot;, prodList);
  return prodModel;
}

protected Object formBackingObject(HttpServletRequest request) throws Exception 
{
  Object backingObj;
  this.setCommandClass(Product.class);
  backingObj = this.createCommand();	   
	   
  try
  {
   Integer productID = ServletRequestUtils.getIntParameter(request, &quot;pid&quot;);
   if(productID != null)
   {
    backingObj = this._productService.getProductById(productID); 
   }
  }
  catch(ServletRequestBindingException srbe)
  {
  }
	   	   	
  return backingObj; 	   
}</pre>
</div>The idea being, when the form loads it presents a list of products and when you click on one it loads its details (this will be a new request).<br />
<br />
It works find until you click on the product, then you get the current bane of my life <i>owning session closed</i><br />
<br />
Now, to my mind, when the reload happens to display the details, both teh referenceData and formBacking call are in the same thread, and thus should be using the same session from my service object.<br />
<br />
I just seem to be going around in circles on this.<br />
Sorry I dont seem able to get this.<br />
Thanks<br />
G
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120911" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120911" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120911" /></a>
<a href="newreply.php?do=newreply&amp;p=120911" rel="nofollow" id="qr_120911" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120911 popup menu -->
<div class="vbmenu_popup" id="postmenu_120911_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Encrypt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=26001">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=26001" rel="nofollow">Send a private message to Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=26001" rel="nofollow">Find all posts by Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=26001">Add Encrypt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120911 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120911 --><!-- post #120925 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120925" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120925" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120925&amp;postcount=6" target="new" rel="nofollow" id="postcount120925" name="6"><strong>6</strong></a> &nbsp;
			
			
			<a href="report.php?p=120925" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120925"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 20th, 2007, 09:10 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120925">
<a class="bigusername" href="member.php?u=19733">karldmoore</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="karldmoore is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120925", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2006</div>
<div>
						Posts: 8,425
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120925">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120925">
			
			The context of a thread isn't the HttpSession though it's the request.  So each request is going to have a different Hibernate Session and therefore you are going to run into these issues.  The Hibernate Session lifecycle would have to be bound to lifecyle of the HttpSession if you want to be able to load something somewhere and then at a later point lazy load the associations.  OpenSessionInView Filter/Interceptor allows you to extend the scope of the Hibernate Session a little further, so you can lazy load items in the view whilst in the same request.  However if it's not in the same request, you're either going to have to reattach the entity to the Session thus allowing lazy loading or eagerly load the entity (and associations).
		</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Senior Java Developer<br />
<a href="http://twitter.com/karldmoore" target="_blank">http://twitter.com/karldmoore</a>
</div>
<!-- / sig -->
<!-- edit note -->
<div class="smallfont">
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<em>
					
						Last edited by karldmoore; Aug 30th, 2007 at <span class="time">08:17 AM</span>.
					
					
				</em>
</div>
<!-- / edit note -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120925" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120925" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120925" /></a>
<a href="newreply.php?do=newreply&amp;p=120925" rel="nofollow" id="qr_120925" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120925 popup menu -->
<div class="vbmenu_popup" id="postmenu_120925_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">karldmoore</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=19733">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=19733" rel="nofollow">Send a private message to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=19733" rel="nofollow">Send email to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=19733" rel="nofollow">Find all posts by karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=19733">Add karldmoore to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120925 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120925 --><!-- post #120930 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120930" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120930" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120930&amp;postcount=7" target="new" rel="nofollow" id="postcount120930" name="7"><strong>7</strong></a> &nbsp;
			
			
			<a href="report.php?p=120930" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120930"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 20th, 2007, 09:29 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120930">
<a class="bigusername" href="member.php?u=26001">Encrypt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Encrypt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120930", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: May 2007</div>
<div>
						Posts: 62
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120930">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120930">
			
			Hi,<br />
I understand that, I had got that far with your help, the other day.  Each request is its own thread.  But I am not trying to lazy load from the previous request, or at least that wasnt my plan.<br />
<br />
componentDetails.html first loads the reference data giving you the list of components.<br />
this is something of the form: <br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">&lt;a href=&quot;componentDetails.html?oid=someNumericValue&quot;&gt;componentName&lt;/a&gt;</pre>
</div>On clicking the link a second load/request is kicked off, the reference data will be loaded (again) and in formBackingObject method I am taking that oid from the queryString, and doing a load (probably should be using find) of the requested object.  <br />
<br />
I was expecting that because this was a new request, it would have a new session, this is why I am getting confused, thus the reuqest to load wouldnt be attempting to use any previous object/sesssion.  I was expecting a new one.<br />
<br />
Thanks<br />
Gavin
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120930" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120930" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120930" /></a>
<a href="newreply.php?do=newreply&amp;p=120930" rel="nofollow" id="qr_120930" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120930 popup menu -->
<div class="vbmenu_popup" id="postmenu_120930_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Encrypt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=26001">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=26001" rel="nofollow">Send a private message to Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=26001" rel="nofollow">Find all posts by Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=26001">Add Encrypt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120930 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120930 --><!-- post #120934 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120934" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120934" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120934&amp;postcount=8" target="new" rel="nofollow" id="postcount120934" name="8"><strong>8</strong></a> &nbsp;
			
			
			<a href="report.php?p=120934" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120934"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 20th, 2007, 10:16 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120934">
<a class="bigusername" href="member.php?u=19733">karldmoore</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="karldmoore is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120934", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2006</div>
<div>
						Posts: 8,425
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120934">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120934">
			
			Is it possible to see your stacktrace?
		</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Senior Java Developer<br />
<a href="http://twitter.com/karldmoore" target="_blank">http://twitter.com/karldmoore</a>
</div>
<!-- / sig -->
<!-- edit note -->
<div class="smallfont">
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<em>
					
						Last edited by karldmoore; Aug 30th, 2007 at <span class="time">08:16 AM</span>.
					
					
				</em>
</div>
<!-- / edit note -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120934" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120934" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120934" /></a>
<a href="newreply.php?do=newreply&amp;p=120934" rel="nofollow" id="qr_120934" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120934 popup menu -->
<div class="vbmenu_popup" id="postmenu_120934_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">karldmoore</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=19733">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=19733" rel="nofollow">Send a private message to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=19733" rel="nofollow">Send email to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=19733" rel="nofollow">Find all posts by karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=19733">Add karldmoore to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120934 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120934 --><!-- post #120944 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120944" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120944" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120944&amp;postcount=9" target="new" rel="nofollow" id="postcount120944" name="9"><strong>9</strong></a> &nbsp;
			
			
			<a href="report.php?p=120944" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120944"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 20th, 2007, 11:38 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120944">
<a class="bigusername" href="member.php?u=26001">Encrypt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Encrypt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120944", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: May 2007</div>
<div>
						Posts: 62
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120944">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
<strong>Stack trace</strong>
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120944">
			
			Sure, see below:<br />
I have a similar problem when using an object stored on the session, later in an interceptor (if the user selects one of the pages protected by that interceptor).<br />
<br />
There are jasper exception at the top, these, i think, are just because the command object is empty, due to restrictions I have removed them.<br />
<br />
The only odd thing I am doing is, when loading an object by ID I am using:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 66px;
		text-align: left;
		overflow: auto">      
Component component = (Component)this.getSession().load(Component.class, OID);
//      Component component = (Component)this.getHibernateTemplate().load(Component.class, OID);</pre>
</div>Where as for loadAll and saveOrUpdate I am able to use the commented out form, I am doing this, because the commented out line above throws an exception.<br />
<br />
Thanks<br />
Gavin <br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 498px;
		text-align: left;
		overflow: auto">2007-05-20 16:10:58,359 ERROR [org.hibernate.LazyInitializationException] - could not initialize proxy - the owning Session was closed
org.hibernate.LazyInitializationException: could not initialize proxy - the owning Session was closed
	at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:60)
	at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:111)
	at org.hibernate.proxy.pojo.cglib.CGLIBLazyInitializer.invoke(CGLIBLazyInitializer.java:150)
	at com.orange.componentcatalogue.dm.Component$$EnhancerByCGLIB$$4d65a7c4.getName(&lt;generated&gt;)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.taglibs.standard.lang.jstl.ArraySuffix.evaluate(ArraySuffix.java:278)
	at org.apache.taglibs.standard.lang.jstl.ComplexValue.evaluate(ComplexValue.java:107)
	at org.apache.taglibs.standard.lang.jstl.ELEvaluator.evaluate(ELEvaluator.java:204)
	at org.apache.taglibs.standard.lang.jstl.ELEvaluator.evaluate(ELEvaluator.java:163)
	at org.apache.taglibs.standard.lang.jstl.Evaluator.evaluate(Evaluator.java:101)
	at org.apache.taglibs.standard.lang.jstl.Evaluator.evaluate(Evaluator.java:129)
	at org.apache.taglibs.standard.lang.support.ExpressionEvaluatorManager.evaluate(ExpressionEvaluatorManager.java:75)
	at org.apache.taglibs.standard.tag.el.core.ExpressionUtil.evalNotNull(ExpressionUtil.java:48)
	at org.apache.taglibs.standard.tag.el.core.OutTag.evaluateExpressions(OutTag.java:99)
	at org.apache.taglibs.standard.tag.el.core.OutTag.doStartTag(OutTag.java:57)
	at org.apache.jsp.WEB_002dINF.jsp.componentDetail_jsp._jspx_meth_c_005fout_005f5(componentDetail_jsp.java:802)
	at org.apache.jsp.WEB_002dINF.jsp.componentDetail_jsp._jspService(componentDetail_jsp.java:171)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:393)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:654)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:445)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:292)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:142)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:247)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1103)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:840)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:754)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:399)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:354)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:690)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:261)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:581)
	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)
	at java.lang.Thread.run(Thread.java:595)</pre>
</div>
</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120944" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120944" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120944" /></a>
<a href="newreply.php?do=newreply&amp;p=120944" rel="nofollow" id="qr_120944" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120944 popup menu -->
<div class="vbmenu_popup" id="postmenu_120944_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Encrypt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=26001">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=26001" rel="nofollow">Send a private message to Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=26001" rel="nofollow">Find all posts by Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=26001">Add Encrypt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120944 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120944 --><!-- post #120959 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120959" style="padding:0px 0px 6px 0px">
<table class="tborder" id="post120959" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120959&amp;postcount=10" target="new" rel="nofollow" id="postcount120959" name="10"><strong>10</strong></a> &nbsp;
			
			
			<a href="report.php?p=120959" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120959"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 20th, 2007, 03:45 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120959">
<a class="bigusername" href="member.php?u=19733">karldmoore</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="karldmoore is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120959", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2006</div>
<div>
						Posts: 8,425
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120959">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120959">
			
			Ok, this exception is being generated in the page.  This could be because the item you are working with is actually a Hibernate proxy or whatever association you are trying to use is lazy loaded.  As I said earlier, you either need to eagerly load the item or you OpenSessionInView.  I can't see OSIV in the stacktrace, so I it's eager loading.  I presume that the problem here is Hibernate proxies.  If you call HibernateTemplate.initialize(..) then that would probably fix it.<br />
<a href="http://www.sleberknight.com:8080/roller/comments/sleberkn/Weblog/using_spring_with_hibernate3_s" target="_blank" rel="nofollow">http://www.sleberknight.com:8080/rol...h_hibernate3_s</a>
</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Senior Java Developer<br />
<a href="http://twitter.com/karldmoore" target="_blank">http://twitter.com/karldmoore</a>
</div>
<!-- / sig -->
<!-- edit note -->
<div class="smallfont">
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<em>
					
						Last edited by karldmoore; Aug 30th, 2007 at <span class="time">08:16 AM</span>.
					
					
				</em>
</div>
<!-- / edit note -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120959" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120959" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120959" /></a>
<a href="newreply.php?do=newreply&amp;p=120959" rel="nofollow" id="qr_120959" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120959 popup menu -->
<div class="vbmenu_popup" id="postmenu_120959_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">karldmoore</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=19733">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=19733" rel="nofollow">Send a private message to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=19733" rel="nofollow">Send email to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=19733" rel="nofollow">Find all posts by karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=19733">Add karldmoore to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120959 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120959 --><div id="lastpost"></div></div><div id="posts"><!-- post #120964 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit120964" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post120964" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=120964&amp;postcount=11" target="new" rel="nofollow" id="postcount120964" name="11"><strong>11</strong></a> &nbsp;
			
			
			<a href="report.php?p=120964" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post120964"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 20th, 2007, 05:11 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_120964">
<a class="bigusername" href="member.php?u=26001">Encrypt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Encrypt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_120964", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: May 2007</div>
<div>
						Posts: 62
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_120964">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon14.gif" alt="Thumbs up" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_120964">
			
			Hi,<br />
Sorry I forgot about the OpenSessionInView thing you mentioned, and couldnt decided on the best place for HibernateTemplate.initialize(..) and had tried it in one of my interceptors to no effect.<br />
<br />
I had a read of the arugment, and I think I agree with what he says, so I changed the load to a get, and it works as expected.  I am a little worried, this is a bit of a hack, but until I have time to look more at OSIV and HibernateTemplate.initialise.<br />
<br />
Thanks for all your help, espically as its a Sunday.<br />
Gavin
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=120964" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=120964" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_120964" /></a>
<a href="newreply.php?do=newreply&amp;p=120964" rel="nofollow" id="qr_120964" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 120964 popup menu -->
<div class="vbmenu_popup" id="postmenu_120964_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Encrypt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=26001">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=26001" rel="nofollow">Send a private message to Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=26001" rel="nofollow">Find all posts by Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=26001">Add Encrypt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 120964 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #120964 --><!-- post #121088 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit121088" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post121088" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=121088&amp;postcount=12" target="new" rel="nofollow" id="postcount121088" name="12"><strong>12</strong></a> &nbsp;
			
			
			<a href="report.php?p=121088" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post121088"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 21st, 2007, 08:02 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_121088">
<a class="bigusername" href="member.php?u=19733">karldmoore</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="karldmoore is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_121088", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2006</div>
<div>
						Posts: 8,425
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_121088">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_121088">
			
			Not a problem Gavin, glad it helped.  I would have thought the DAO seems like a reasonable place to add HibernateTemplate.initialize(..), that might make you feel better about the get() vs load () issues.
		</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Senior Java Developer<br />
<a href="http://twitter.com/karldmoore" target="_blank">http://twitter.com/karldmoore</a>
</div>
<!-- / sig -->
<!-- edit note -->
<div class="smallfont">
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<em>
					
						Last edited by karldmoore; Aug 30th, 2007 at <span class="time">08:16 AM</span>.
					
					
				</em>
</div>
<!-- / edit note -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=121088" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=121088" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_121088" /></a>
<a href="newreply.php?do=newreply&amp;p=121088" rel="nofollow" id="qr_121088" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 121088 popup menu -->
<div class="vbmenu_popup" id="postmenu_121088_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">karldmoore</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=19733">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=19733" rel="nofollow">Send a private message to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=19733" rel="nofollow">Send email to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=19733" rel="nofollow">Find all posts by karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=19733">Add karldmoore to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 121088 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #121088 --><!-- post #121091 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit121091" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post121091" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=121091&amp;postcount=13" target="new" rel="nofollow" id="postcount121091" name="13"><strong>13</strong></a> &nbsp;
			
			
			<a href="report.php?p=121091" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post121091"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 21st, 2007, 08:17 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_121091">
<a class="bigusername" href="member.php?u=26001">Encrypt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Encrypt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_121091", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: May 2007</div>
<div>
						Posts: 62
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_121091">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_121091">
			
			Hi,<br />
Yeah, I had seattled on doing it in the Dao, am doing it ad hoc as the exception gets thrown, and trying to do it in a sensible manner in relation to my data.  <br />
<br />
I think I like get (for getBy x y or z), because if I am request object x, like the artical says its likely becuase I want to display it.<br />
<br />
Gavin
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=121091" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=121091" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_121091" /></a>
<a href="newreply.php?do=newreply&amp;p=121091" rel="nofollow" id="qr_121091" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 121091 popup menu -->
<div class="vbmenu_popup" id="postmenu_121091_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Encrypt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=26001">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=26001" rel="nofollow">Send a private message to Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=26001" rel="nofollow">Find all posts by Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=26001">Add Encrypt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 121091 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #121091 --><!-- post #121319 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit121319" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post121319" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=121319&amp;postcount=14" target="new" rel="nofollow" id="postcount121319" name="14"><strong>14</strong></a> &nbsp;
			
			
			<a href="report.php?p=121319" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post121319"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 22nd, 2007, 05:57 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_121319">
<a class="bigusername" href="member.php?u=26001">Encrypt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Encrypt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_121319", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: May 2007</div>
<div>
						Posts: 62
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_121319">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_121319">
			
			Me again,<br />
Just a quick hibernate sessions question:<br />
<br />
I have set up my Doa's to have a template thus:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">this._hibernateTemplate = new HibernateTemplate(sessionFactory, false);</pre>
</div>So if I understand correctly, that forces the tempalte to join the current session and if non-exists create one?<br />
<br />
So does that mean if one of my web controllers requires 3 service objects (and thus doa's) they will all join the same session.<br />
<br />
<i>slightly off topic</i><br />
Or should I construct my service and dao objects per web controller, currently I am doing it per domain object.<br />
<br />
Thanks<br />
Gavin
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=121319" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=121319" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_121319" /></a>
<a href="newreply.php?do=newreply&amp;p=121319" rel="nofollow" id="qr_121319" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 121319 popup menu -->
<div class="vbmenu_popup" id="postmenu_121319_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Encrypt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=26001">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=26001" rel="nofollow">Send a private message to Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=26001" rel="nofollow">Find all posts by Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=26001">Add Encrypt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 121319 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #121319 --><!-- post #121536 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit121536" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post121536" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=121536&amp;postcount=15" target="new" rel="nofollow" id="postcount121536" name="15"><strong>15</strong></a> &nbsp;
			
			
			<a href="report.php?p=121536" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post121536"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 22nd, 2007, 06:39 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_121536">
<a class="bigusername" href="member.php?u=13099">Jrg Heinicke</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Jrg Heinicke is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_121536", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Nov 2005</div>
<div>Location: Reutlingen, Germany</div>
<div>
						Posts: 2,098
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_121536">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_121536">
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>Encrypt</strong>
<a href="showthread.php?p=121319#post121319" rel="nofollow"><img class="inlineimg" src="images/buttons/viewpost.gif" border="0" alt="View Post" /></a>
</div>
<div style="font-style:italic">So if I understand correctly, that forces the tempalte to join the current session and if non-exists create one?</div>
</td>
</tr>
</table>
</div>Not really. You only prevent new sessions to be created out of a transaction scope (which I consider to be good). <br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>Encrypt</strong>
<a href="showthread.php?p=121319#post121319" rel="nofollow"><img class="inlineimg" src="images/buttons/viewpost.gif" border="0" alt="View Post" /></a>
</div>
<div style="font-style:italic">So does that mean if one of my web controllers requires 3 service objects (and thus doa's) they will all join the same session.</div>
</td>
</tr>
</table>
</div>This depends on your transaction and session configuration. I have demarcated my transaction boundaries on the service level and would have each service method called from the controller running in its own transaction. Since I use default JTA setup a transaction lives as long as a session and the other way around.<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>Encrypt</strong>
<a href="showthread.php?p=121319#post121319" rel="nofollow"><img class="inlineimg" src="images/buttons/viewpost.gif" border="0" alt="View Post" /></a>
</div>
<div style="font-style:italic">Or should I construct my service and dao objects per web controller, currently I am doing it per domain object.</div>
</td>
</tr>
</table>
</div>Neither nor <img src="images/smilies/smile.gif" border="0" alt="" title="Smile" class="inlineimg" /> Per business/ use case. But that should be nearer to domain object than to web controller (think of DDD). Also a higher layer (web) should use what a lower layer (service) offers, but the higher one should not drive the lower one. Of course you need to get the things done though ...<br />
<br />
Jrg
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=121536" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=121536" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_121536" /></a>
<a href="newreply.php?do=newreply&amp;p=121536" rel="nofollow" id="qr_121536" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 121536 popup menu -->
<div class="vbmenu_popup" id="postmenu_121536_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Jrg Heinicke</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=13099">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=13099" rel="nofollow">Send a private message to Jrg Heinicke</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://insufficientinformation.blogspot.com">Visit Jrg Heinicke's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=13099" rel="nofollow">Find all posts by Jrg Heinicke</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=13099">Add Jrg Heinicke to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 121536 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #121536 --><!-- post #121569 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit121569" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post121569" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=121569&amp;postcount=16" target="new" rel="nofollow" id="postcount121569" name="16"><strong>16</strong></a> &nbsp;
			
			
			<a href="report.php?p=121569" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post121569"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				May 23rd, 2007, 01:28 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_121569">
<a class="bigusername" href="member.php?u=19733">karldmoore</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="karldmoore is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_121569", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2006</div>
<div>
						Posts: 8,425
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_121569">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_121569">
			
			You've passed in false as the second parameter to HibernateTemplate.  This is actually saying if a Session doesn't exist one can't be created, from what you described you want this to be true.  But surely all you need to do here is start a transaction at the service layer.  Everything that is called from here will be enclosed in the same transaction and can use the same Session.
		</div>
<!-- / message -->
<!-- sig -->
<div>
				__________________<br />
				Senior Java Developer<br />
<a href="http://twitter.com/karldmoore" target="_blank">http://twitter.com/karldmoore</a>
</div>
<!-- / sig -->
<!-- edit note -->
<div class="smallfont">
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<em>
					
						Last edited by karldmoore; Aug 30th, 2007 at <span class="time">08:16 AM</span>.
					
					
				</em>
</div>
<!-- / edit note -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=121569" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=121569" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_121569" /></a>
<a href="newreply.php?do=newreply&amp;p=121569" rel="nofollow" id="qr_121569" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 121569 popup menu -->
<div class="vbmenu_popup" id="postmenu_121569_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">karldmoore</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=19733">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=19733" rel="nofollow">Send a private message to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=19733" rel="nofollow">Send email to karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=19733" rel="nofollow">Find all posts by karldmoore</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=19733">Add karldmoore to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 121569 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #121569 --><!-- post #124815 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit124815" style="padding:0px 0px 6px 0px">
<table class="tborder" id="post124815" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=124815&amp;postcount=17" target="new" rel="nofollow" id="postcount124815" name="17"><strong>17</strong></a> &nbsp;
			
			
			<a href="report.php?p=124815" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post124815"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Jun 7th, 2007, 08:07 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_124815">
<a class="bigusername" href="member.php?u=26001">Encrypt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Encrypt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_124815", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: May 2007</div>
<div>
						Posts: 62
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_124815">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_124815">
			
			Hi, sorry for the long delay, other projects required my attention, not nearly as interesting or (&quot;hair pulling out&quot;, &quot;screaming at computer&quot;) fun as this one.<br />
<br />
<img src="images/smilies/smile.gif" border="0" alt="" title="Smile" class="inlineimg" /><br />
<br />
I think that has cleared that up.<br />
<br />
Thanks<br />
G
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=124815" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=124815" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_124815" /></a>
<a href="newreply.php?do=newreply&amp;p=124815" rel="nofollow" id="qr_124815" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 124815 popup menu -->
<div class="vbmenu_popup" id="postmenu_124815_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Encrypt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=26001">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=26001" rel="nofollow">Send a private message to Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=26001" rel="nofollow">Find all posts by Encrypt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=26001">Add Encrypt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 124815 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #124815 --><div id="lastpost"></div></div></body></html>