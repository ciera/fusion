<html><body><link rel="stylesheet" type="text/css" href="style.css"/><div id="posts"><!-- post #100401 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit100401" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post100401" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=100401&amp;postcount=1" target="new" rel="nofollow" id="postcount100401" name="1"><strong>1</strong></a> &nbsp;
			
			
			<a href="report.php?p=100401" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post100401"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Feb 8th, 2007, 07:33 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_100401">
<a class="bigusername" href="member.php?u=18279">du-it</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="du-it is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_100401", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Jul 2006</div>
<div>
						Posts: 38
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_100401">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
<strong>Handling InvalidPropertyException during page reload</strong>
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_100401">
			
			I have a view/jsp in which the user is enabled to add and remove links.<br />
It all works fine unless I have removed the last link and the user presses F5 or the reload button/symbol of the browser. This ends up in an InvalidPropertyException: <div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">Invalid property 'processes[0].deliverables[0].dmsLinks[1]' of bean class [DataProcess] : Index out of bounds in property path 'dmsLinks[1]'; nested exception is java.lang.IndexOutOfBoundsException: Index:1, Size:1</pre>
</div>So, where is the place in the workflow to catch the request and check, if the page has been reloaded sending the previous request (query string)?<br />
Knowing this, I could check that the indices are within an arrays bounds and act accordingly.<br />
<br />
Thank you,<br />
Dirk
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=100401" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=100401" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_100401" /></a>
<a href="newreply.php?do=newreply&amp;p=100401" rel="nofollow" id="qr_100401" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 100401 popup menu -->
<div class="vbmenu_popup" id="postmenu_100401_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">du-it</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=18279">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=18279" rel="nofollow">Send a private message to du-it</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=18279" rel="nofollow">Send email to du-it</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=18279" rel="nofollow">Find all posts by du-it</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=18279">Add du-it to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 100401 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #100401 --><!-- post #100541 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit100541" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post100541" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=100541&amp;postcount=2" target="new" rel="nofollow" id="postcount100541" name="2"><strong>2</strong></a> &nbsp;
			
			
			<a href="report.php?p=100541" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post100541"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Feb 8th, 2007, 03:51 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_100541">
<a class="bigusername" href="member.php?u=7550">klr8</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="klr8 is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_100541", true); </script>
</div>
<div class="smallfont">Senior Member</div>
<div class="smallfont">Spring Team</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2004</div>
<div>Location: Leuven, Belgium</div>
<div>
						Posts: 1,846
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_100541">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_100541">
			
			Is this in a Spring Web Flow powered application?<br />
Could you post the complete stack trace so that we have more of an idea of where exactly the exception occurs?<br />
<br />
Erwin
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=100541" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=100541" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_100541" /></a>
<a href="newreply.php?do=newreply&amp;p=100541" rel="nofollow" id="qr_100541" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 100541 popup menu -->
<div class="vbmenu_popup" id="postmenu_100541_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">klr8</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7550">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://www.ervacon.com">Visit klr8's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7550" rel="nofollow">Find all posts by klr8</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7550">Add klr8 to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 100541 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #100541 --><!-- post #100693 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit100693" style="padding:0px 0px 6px 0px">
<table class="tborder" id="post100693" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=100693&amp;postcount=3" target="new" rel="nofollow" id="postcount100693" name="3"><strong>3</strong></a> &nbsp;
			
			
			<a href="report.php?p=100693" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post100693"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Feb 9th, 2007, 11:39 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_100693">
<a class="bigusername" href="member.php?u=18279">du-it</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="du-it is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_100693", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Jul 2006</div>
<div>
						Posts: 38
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_100693">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_100693">
			
			Well, you're right. It's no Spring Web Flow powerde application. I think this thread should be posted in &quot;Spring Framework Support Forums &gt; Core Spring &amp; Sub Projects  &gt; Web&quot;. I'm sorry. I hope you could help me anyway. <img src="images/smilies/rolleyes.gif" border="0" alt="" title="Roll Eyes (Sarcastic)" class="inlineimg" /> <br />
<br />
To remember:<br />
I deleted the last item in the collection and afterwards I push the reload button. This causes sending the request once more which ends up in the following exception.<br />
<br />
Here's the stack trace:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 498px;
		text-align: left;
		overflow: auto">[checklist] 2007-02-09 17:33:52,002 ERROR - org.apache.catalina.core.StandardWrapperValve.invoke(253) | Servlet.service() for servlet ChecklistApp threw exception
org.springframework.beans.InvalidPropertyException: Invalid property 'processes[0].deliverables[0].dmsLinks[0]' of bean class [checklist.model.DataProcess]: Index of out of bounds in property path 'dmsLinks[0]'; nested exception is java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.RangeCheck(ArrayList.java:546)
	at java.util.ArrayList.get(ArrayList.java:321)
	at org.springframework.beans.BeanWrapperImpl.getPropertyValue(BeanWrapperImpl.java:511)
	at org.springframework.beans.BeanWrapperImpl.getNestedBeanWrapper(BeanWrapperImpl.java:392)
	at org.springframework.beans.BeanWrapperImpl.getBeanWrapperForPropertyPath(BeanWrapperImpl.java:369)
	at org.springframework.beans.BeanWrapperImpl.getBeanWrapperForPropertyPath(BeanWrapperImpl.java:370)
	at org.springframework.beans.BeanWrapperImpl.getBeanWrapperForPropertyPath(BeanWrapperImpl.java:370)
	at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:565)
	at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:737)
	at org.springframework.beans.BeanWrapperImpl.setPropertyValues(BeanWrapperImpl.java:764)
	at org.springframework.validation.DataBinder.applyPropertyValues(DataBinder.java:418)
	at org.springframework.validation.DataBinder.doBind(DataBinder.java:325)
	at org.springframework.web.bind.WebDataBinder.doBind(WebDataBinder.java:122)
	at org.springframework.web.bind.ServletRequestDataBinder.bind(ServletRequestDataBinder.java:131)
	at org.springframework.web.servlet.mvc.BaseCommandController.bindAndValidate(BaseCommandController.java:368)
	at org.springframework.web.servlet.mvc.AbstractFormController.handleRequestInternal(AbstractFormController.java:248)
	at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:153)
	at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:44)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:723)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:663)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:394)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:358)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:77)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
	at java.lang.Thread.run(Thread.java:595)</pre>
</div>
</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=100693" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=100693" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_100693" /></a>
<a href="newreply.php?do=newreply&amp;p=100693" rel="nofollow" id="qr_100693" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 100693 popup menu -->
<div class="vbmenu_popup" id="postmenu_100693_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">du-it</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=18279">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=18279" rel="nofollow">Send a private message to du-it</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=18279" rel="nofollow">Send email to du-it</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=18279" rel="nofollow">Find all posts by du-it</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=18279">Add du-it to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 100693 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #100693 --><div id="lastpost"></div></div></body></html>