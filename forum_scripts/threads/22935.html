<html><body><link rel="stylesheet" type="text/css" href="style.css"/><div id="posts"><!-- post #53243 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit53243" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post53243" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=53243&amp;postcount=1" target="new" rel="nofollow" id="postcount53243" name="1"><strong>1</strong></a> &nbsp;
			
			
			<a href="report.php?p=53243" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post53243"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 5th, 2006, 11:38 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_53243">
<a class="bigusername" href="member.php?u=7780">paul.barry</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="paul.barry is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_53243", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Oct 2004</div>
<div>
						Posts: 56
					</div>
<div> <a href="#" onclick="imwindow('aim', '7780', 400, 200); return false;"><img src="images/misc/im_aim.gif" alt="Send a message via AIM to paul.barry" border="0" /></a> <a href="#" onclick="imwindow('yahoo', '7780', 400, 200); return false;"><img src="images/misc/im_yahoo.gif" alt="Send a message via Yahoo to paul.barry" border="0" /></a> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_53243">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
<strong>Hiding freemarker/velocity strack traces from end users</strong>
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_53243">
			
			If I am using freemarker for my view technology, if I make a syntax error in the template, it dumps the whole stack trace into the browser white screen of death.  Is there a simple way to solve this, for example, just log the error and display a static html page?
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=53243" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=53243" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_53243" /></a>
<a href="newreply.php?do=newreply&amp;p=53243" rel="nofollow" id="qr_53243" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 53243 popup menu -->
<div class="vbmenu_popup" id="postmenu_53243_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">paul.barry</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7780">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7780" rel="nofollow">Send a private message to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=7780" rel="nofollow">Send email to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://paulbarry.com">Visit paul.barry's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7780" rel="nofollow">Find all posts by paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7780">Add paul.barry to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 53243 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #53243 --><!-- post #53261 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit53261" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post53261" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=53261&amp;postcount=2" target="new" rel="nofollow" id="postcount53261" name="2"><strong>2</strong></a> &nbsp;
			
			
			<a href="report.php?p=53261" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post53261"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 5th, 2006, 03:53 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_53261">
<a class="bigusername" href="member.php?u=7133">Colin Yates</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Colin Yates is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_53261", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>
						Posts: 1,905
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_53261">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_53261">
			
			Probably not very helpful, but there is no reason you cannot unit test the templates in isolation <img src="images/smilies/smile.gif" border="0" alt="" title="Smile" class="inlineimg" /><br />
<br />
Have you tried specifying an error mapping in web.xml?
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=53261" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=53261" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_53261" /></a>
<a href="newreply.php?do=newreply&amp;p=53261" rel="nofollow" id="qr_53261" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 53261 popup menu -->
<div class="vbmenu_popup" id="postmenu_53261_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Colin Yates</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7133">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7133" rel="nofollow">Send a private message to Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7133" rel="nofollow">Find all posts by Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7133">Add Colin Yates to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 53261 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #53261 --><!-- post #53453 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit53453" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post53453" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=53453&amp;postcount=3" target="new" rel="nofollow" id="postcount53453" name="3"><strong>3</strong></a> &nbsp;
			
			
			<a href="report.php?p=53453" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post53453"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 6th, 2006, 11:48 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_53453">
<a class="bigusername" href="member.php?u=7780">paul.barry</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="paul.barry is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_53453", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Oct 2004</div>
<div>
						Posts: 56
					</div>
<div> <a href="#" onclick="imwindow('aim', '7780', 400, 200); return false;"><img src="images/misc/im_aim.gif" alt="Send a message via AIM to paul.barry" border="0" /></a> <a href="#" onclick="imwindow('yahoo', '7780', 400, 200); return false;"><img src="images/misc/im_yahoo.gif" alt="Send a message via Yahoo to paul.barry" border="0" /></a> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_53453">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_53453">
			
			Even with unit tests, a simple unexpected null value can make the whole template blow up, which is just an unsettling idea.  I would like it to be impossible for a template to dump a stack trace to a white screen of death.  If an end user get a simple error page in production, that is much less of a problem.<br />
<br />
I haven't tried web.xml yet, but even if I do that, will there be a way for me to log the exception, then display an error page?
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=53453" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=53453" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_53453" /></a>
<a href="newreply.php?do=newreply&amp;p=53453" rel="nofollow" id="qr_53453" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 53453 popup menu -->
<div class="vbmenu_popup" id="postmenu_53453_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">paul.barry</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7780">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7780" rel="nofollow">Send a private message to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=7780" rel="nofollow">Send email to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://paulbarry.com">Visit paul.barry's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7780" rel="nofollow">Find all posts by paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7780">Add paul.barry to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 53453 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #53453 --><!-- post #53458 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit53458" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post53458" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=53458&amp;postcount=4" target="new" rel="nofollow" id="postcount53458" name="4"><strong>4</strong></a> &nbsp;
			
			
			<a href="report.php?p=53458" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post53458"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 6th, 2006, 12:09 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_53458">
<a class="bigusername" href="member.php?u=7133">Colin Yates</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Colin Yates is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_53458", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>
						Posts: 1,905
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_53458">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_53458">
			
			I typically have the error page in the web.xml map to a URL that is backed by a controller.  You can then do whatever you want in the controller.<br />
<br />
Also, be aware that FreeMarker will not silently swallow nulls.  Velocity will (i.e. if you are printing out a property that is null, jstl and velocity will print out nothing, freemarker blows up <img src="images/smilies/smile.gif" border="0" alt="" title="Smile" class="inlineimg" />)
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=53458" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=53458" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_53458" /></a>
<a href="newreply.php?do=newreply&amp;p=53458" rel="nofollow" id="qr_53458" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 53458 popup menu -->
<div class="vbmenu_popup" id="postmenu_53458_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Colin Yates</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7133">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7133" rel="nofollow">Send a private message to Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7133" rel="nofollow">Find all posts by Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7133">Add Colin Yates to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 53458 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #53458 --><!-- post #53459 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit53459" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post53459" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=53459&amp;postcount=5" target="new" rel="nofollow" id="postcount53459" name="5"><strong>5</strong></a> &nbsp;
			
			
			<a href="report.php?p=53459" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post53459"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 6th, 2006, 12:12 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_53459">
<a class="bigusername" href="member.php?u=7780">paul.barry</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="paul.barry is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_53459", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Oct 2004</div>
<div>
						Posts: 56
					</div>
<div> <a href="#" onclick="imwindow('aim', '7780', 400, 200); return false;"><img src="images/misc/im_aim.gif" alt="Send a message via AIM to paul.barry" border="0" /></a> <a href="#" onclick="imwindow('yahoo', '7780', 400, 200); return false;"><img src="images/misc/im_yahoo.gif" alt="Send a message via Yahoo to paul.barry" border="0" /></a> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_53459">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_53459">
			
			Yeah, that's what I mean.  I know Freemarker won't swallow the nulls, so I want to catch those Exception, log it, and show the user a meaningful error page that doesn't have a stack trace in it.  Since the likelihood for Freemarker blowing up is higher than Velocity, that makes this issue that much more important.<br />
<br />
I'll try to map to a controller from web.xml.  Will the Exception that was thrown be available to the controller handling the error?  How about the original URL?
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=53459" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=53459" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_53459" /></a>
<a href="newreply.php?do=newreply&amp;p=53459" rel="nofollow" id="qr_53459" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 53459 popup menu -->
<div class="vbmenu_popup" id="postmenu_53459_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">paul.barry</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7780">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7780" rel="nofollow">Send a private message to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=7780" rel="nofollow">Send email to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://paulbarry.com">Visit paul.barry's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7780" rel="nofollow">Find all posts by paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7780">Add paul.barry to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 53459 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #53459 --><!-- post #53463 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit53463" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post53463" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=53463&amp;postcount=6" target="new" rel="nofollow" id="postcount53463" name="6"><strong>6</strong></a> &nbsp;
			
			
			<a href="report.php?p=53463" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post53463"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 6th, 2006, 12:32 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_53463">
<a class="bigusername" href="member.php?u=7133">Colin Yates</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Colin Yates is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_53463", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>
						Posts: 1,905
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_53463">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_53463">
			
			Exception exception = (Exception) request.getAttribute(&quot;javax.servlet.error.exceptio  n&quot;);
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=53463" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=53463" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_53463" /></a>
<a href="newreply.php?do=newreply&amp;p=53463" rel="nofollow" id="qr_53463" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 53463 popup menu -->
<div class="vbmenu_popup" id="postmenu_53463_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Colin Yates</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7133">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7133" rel="nofollow">Send a private message to Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7133" rel="nofollow">Find all posts by Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7133">Add Colin Yates to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 53463 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #53463 --><!-- post #53465 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit53465" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post53465" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=53465&amp;postcount=7" target="new" rel="nofollow" id="postcount53465" name="7"><strong>7</strong></a> &nbsp;
			
			
			<a href="report.php?p=53465" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post53465"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 6th, 2006, 12:34 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_53465">
<a class="bigusername" href="member.php?u=7780">paul.barry</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="paul.barry is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_53465", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Oct 2004</div>
<div>
						Posts: 56
					</div>
<div> <a href="#" onclick="imwindow('aim', '7780', 400, 200); return false;"><img src="images/misc/im_aim.gif" alt="Send a message via AIM to paul.barry" border="0" /></a> <a href="#" onclick="imwindow('yahoo', '7780', 400, 200); return false;"><img src="images/misc/im_yahoo.gif" alt="Send a message via Yahoo to paul.barry" border="0" /></a> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_53465">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_53465">
			
			Alright, sounds good, I'll give that a try.  Thanks for your help.
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=53465" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=53465" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_53465" /></a>
<a href="newreply.php?do=newreply&amp;p=53465" rel="nofollow" id="qr_53465" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 53465 popup menu -->
<div class="vbmenu_popup" id="postmenu_53465_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">paul.barry</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7780">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7780" rel="nofollow">Send a private message to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=7780" rel="nofollow">Send email to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://paulbarry.com">Visit paul.barry's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7780" rel="nofollow">Find all posts by paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7780">Add paul.barry to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 53465 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #53465 --><!-- post #53466 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit53466" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post53466" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=53466&amp;postcount=8" target="new" rel="nofollow" id="postcount53466" name="8"><strong>8</strong></a> &nbsp;
			
			
			<a href="report.php?p=53466" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post53466"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 6th, 2006, 12:37 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_53466">
<a class="bigusername" href="member.php?u=7133">Colin Yates</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Colin Yates is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_53466", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>
						Posts: 1,905
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_53466">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_53466">
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>paul.barry</strong>
</div>
<div style="font-style:italic">Alright, sounds good, I'll give that a try.  Thanks for your help.</div>
</td>
</tr>
</table>
</div>No worries <img src="images/smilies/smile.gif" border="0" alt="" title="Smile" class="inlineimg" />
</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=53466" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=53466" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_53466" /></a>
<a href="newreply.php?do=newreply&amp;p=53466" rel="nofollow" id="qr_53466" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 53466 popup menu -->
<div class="vbmenu_popup" id="postmenu_53466_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Colin Yates</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7133">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7133" rel="nofollow">Send a private message to Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7133" rel="nofollow">Find all posts by Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7133">Add Colin Yates to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 53466 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #53466 --><!-- post #56528 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit56528" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post56528" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=56528&amp;postcount=9" target="new" rel="nofollow" id="postcount56528" name="9"><strong>9</strong></a> &nbsp;
			
			
			<a href="report.php?p=56528" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post56528"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 31st, 2006, 08:48 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_56528">
<a class="bigusername" href="member.php?u=7780">paul.barry</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="paul.barry is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_56528", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Oct 2004</div>
<div>
						Posts: 56
					</div>
<div> <a href="#" onclick="imwindow('aim', '7780', 400, 200); return false;"><img src="images/misc/im_aim.gif" alt="Send a message via AIM to paul.barry" border="0" /></a> <a href="#" onclick="imwindow('yahoo', '7780', 400, 200); return false;"><img src="images/misc/im_yahoo.gif" alt="Send a message via Yahoo to paul.barry" border="0" /></a> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_56528">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_56528">
			
			I finally got around to trying this, and nothing seems to work.  I tried adding this to my web.xml<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 82px;
		text-align: left;
		overflow: auto">  &lt;error-page&gt;
    &lt;exception-type&gt;java.lang.Throwable&lt;/exception-type&gt;
    &lt;location&gt;/error.html&lt;/location&gt;
  &lt;/error-page&gt;</pre>
</div>It just dumps the exception, doesn't go to /error.html.  I tried adding a SimpleMappingExceptionResolver as well, that doesn't catch it.  I tried using a Filter, but when I put chain.doFilter in a try/catch block, I get a stack overflow error when I try to log the exception.  It seems like the problem is that if there is an error in the freemarker template, it writes the error to the Writer and then throws the exception.  Since something has already been written to the respose, you can't redirect or forward.  The only way to fix this would be to write the template into a string, and if no error occurred, then write the string to the response Writer.  Am I wrong?
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=56528" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=56528" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_56528" /></a>
<a href="newreply.php?do=newreply&amp;p=56528" rel="nofollow" id="qr_56528" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 56528 popup menu -->
<div class="vbmenu_popup" id="postmenu_56528_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">paul.barry</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7780">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7780" rel="nofollow">Send a private message to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=7780" rel="nofollow">Send email to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://paulbarry.com">Visit paul.barry's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7780" rel="nofollow">Find all posts by paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7780">Add paul.barry to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 56528 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #56528 --><!-- post #56532 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit56532" style="padding:0px 0px 6px 0px">
<table class="tborder" id="post56532" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=56532&amp;postcount=10" target="new" rel="nofollow" id="postcount56532" name="10"><strong>10</strong></a> &nbsp;
			
			
			<a href="report.php?p=56532" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post56532"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 31st, 2006, 09:17 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_56532">
<a class="bigusername" href="member.php?u=7780">paul.barry</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="paul.barry is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_56532", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Oct 2004</div>
<div>
						Posts: 56
					</div>
<div> <a href="#" onclick="imwindow('aim', '7780', 400, 200); return false;"><img src="images/misc/im_aim.gif" alt="Send a message via AIM to paul.barry" border="0" /></a> <a href="#" onclick="imwindow('yahoo', '7780', 400, 200); return false;"><img src="images/misc/im_yahoo.gif" alt="Send a message via Yahoo to paul.barry" border="0" /></a> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_56532">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_56532">
			
			From <a href="http://freemarker.org/docs/app_faq.html#misc.faq.niceErrorPage" target="_blank" rel="nofollow">http://freemarker.org/docs/app_faq.h....niceErrorPage</a><br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
			
				First of all, use RETHROW_HANDLER instead of the default DEBUG_HANDLER (for more information about template exception handlers read this...). Now FreeMarker will not print anything to the output when an error occurs, so the control is in your hands. After you have caught the exception of Template.process(...) basically you can follow two strategies:<br />
<br />
    *      Call httpResp.isCommitted(), and if that returns false, then you call httpResp.reset() and print a ``nice error page'' for the visitor. If the return value was true, then try to finish the page be printing something that makes clear for the visitor that the page generation was abruptly interrupted because of an error on the Web server. You may have to print a lot of redundant HTML end-tags and set colors and font size to ensure that the error message will be actually readable in the browser window (check the source code of the HTML_DEBUG_HANDLER in src\freemarker\template\TemplateException.java to see an example).<br />
<br />
    *      Use full page buffering. This means that the Writer doesn't send the output to the client progressively, but buffers the whole page in the memory. Since you provide the Writer instance for the Template.process(...) method, this is your responsibility, FreeMarker has nothing to do with it. For example, you may use a StringWriter, and if Template.process(...) returns by throwing an exception, then ignore the content accumulated by the StringWriter, and send an error page instead, otherwise you print the content of StringWriter to the output. With this method you surely don't have to deal with partially sent pages, but it can have negative performance implications depending on the characteristic of the pages (for example, the user will experience more response delay for a long page that is generated slowly, also the server will consume more RAM). Note that using a StringWriter is surely not the most efficient solution, as it often reallocates its buffer as the accumulated content grows.
			
		</td>
</tr>
</table>
</div>So the next question is how can i configure freemarker with spring to use RETHROW_HANDLER?<br />
<br />
And what about modifying FreeMarkerView to make the template write the content to a buffer first?  Like this:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 130px;
		text-align: left;
		overflow: auto">    protected void processTemplate(Template template, Map model, 
            HttpServletResponse response) throws IOException, TemplateException {
        StringWriter sw = new StringWriter();
        BufferedWriter buf = new BufferedWriter(sw);
        template.process(model, buf);
        response.getWriter().write(sw.toString());
    }</pre>
</div>This way, if template.process throws an exception, nothing is written to the response and you can do what ever you need to do to handle the error.
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=56532" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=56532" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_56532" /></a>
<a href="newreply.php?do=newreply&amp;p=56532" rel="nofollow" id="qr_56532" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 56532 popup menu -->
<div class="vbmenu_popup" id="postmenu_56532_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">paul.barry</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7780">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7780" rel="nofollow">Send a private message to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=7780" rel="nofollow">Send email to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://paulbarry.com">Visit paul.barry's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7780" rel="nofollow">Find all posts by paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7780">Add paul.barry to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 56532 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #56532 --><div id="lastpost"></div></div><div id="posts"><!-- post #56536 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit56536" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post56536" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=56536&amp;postcount=11" target="new" rel="nofollow" id="postcount56536" name="11"><strong>11</strong></a> &nbsp;
			
			
			<a href="report.php?p=56536" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post56536"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 31st, 2006, 09:51 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_56536">
<a class="bigusername" href="member.php?u=7780">paul.barry</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="paul.barry is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_56536", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Oct 2004</div>
<div>
						Posts: 56
					</div>
<div> <a href="#" onclick="imwindow('aim', '7780', 400, 200); return false;"><img src="images/misc/im_aim.gif" alt="Send a message via AIM to paul.barry" border="0" /></a> <a href="#" onclick="imwindow('yahoo', '7780', 400, 200); return false;"><img src="images/misc/im_yahoo.gif" alt="Send a message via Yahoo to paul.barry" border="0" /></a> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_56536">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_56536">
			
			I did figure out how to use the freemarker rethrow handler with spring:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 162px;
		text-align: left;
		overflow: auto">    &lt;bean id=&quot;freemarkerConfig&quot; 
        class=&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer&quot;&gt;
      &lt;property name=&quot;templateLoaderPath&quot;&gt;&lt;value&gt;/WEB-INF/freemarker/templates/&lt;/value&gt;&lt;/property&gt;
      &lt;property name=&quot;freemarkerSettings&quot;&gt;
        &lt;props&gt;
          &lt;prop key=&quot;template_exception_handler&quot;&gt;rethrow&lt;/prop&gt;
        &lt;/props&gt;
      &lt;/property&gt;
    &lt;/bean&gt;</pre>
</div>That keeps the freemarker stack trace out of the output, but for some reason my error page setting still isn't working.  Neither is the spring exception handler.  I'll have to bang my head against the wall on this later...
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=56536" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=56536" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_56536" /></a>
<a href="newreply.php?do=newreply&amp;p=56536" rel="nofollow" id="qr_56536" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 56536 popup menu -->
<div class="vbmenu_popup" id="postmenu_56536_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">paul.barry</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7780">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7780" rel="nofollow">Send a private message to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="sendmessage.php?do=mailmember&amp;u=7780" rel="nofollow">Send email to paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://paulbarry.com">Visit paul.barry's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7780" rel="nofollow">Find all posts by paul.barry</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7780">Add paul.barry to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 56536 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #56536 --><!-- post #134615 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit134615" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post134615" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=134615&amp;postcount=12" target="new" rel="nofollow" id="postcount134615" name="12"><strong>12</strong></a> &nbsp;
			
			
			<a href="report.php?p=134615" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post134615"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Jul 31st, 2007, 04:23 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_134615">
<a class="bigusername" href="member.php?u=7936">maward</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="maward is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_134615", true); </script>
</div>
<div class="smallfont">Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Oct 2004</div>
<div>
						Posts: 45
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_134615">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
<strong>Same problem</strong>
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_134615">
			
			Has anyone found a solution to this? As the previous post says adding the template_exception_handler property with a value of rethrow to the FreemarkerConfigurer bean does mean that the exceptions bubble up -- but for some reason they seem to bypass the spring exception resolver so I get a tomcat error page. All other exceptions seem to correctly use the spring exception resolver but freemarker errors do not.
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=134615" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=134615" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_134615" /></a>
<a href="newreply.php?do=newreply&amp;p=134615" rel="nofollow" id="qr_134615" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 134615 popup menu -->
<div class="vbmenu_popup" id="postmenu_134615_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">maward</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7936">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7936" rel="nofollow">Send a private message to maward</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7936" rel="nofollow">Find all posts by maward</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7936">Add maward to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 134615 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #134615 --><!-- post #156962 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit156962" style="padding:0px 0px 6px 0px">
<table class="tborder" id="post156962" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=156962&amp;postcount=13" target="new" rel="nofollow" id="postcount156962" name="13"><strong>13</strong></a> &nbsp;
			
			
			<a href="report.php?p=156962" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post156962"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Dec 20th, 2007, 08:29 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_156962">
<a class="bigusername" href="member.php?u=28825">Taras</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Taras is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_156962", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2007</div>
<div>
						Posts: 13
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_156962">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_156962">
			
			I have the same problem<br />
<br />
If <br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --></code><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">prop&nbsp;key</span><span style="color: #007700">=</span><span style="color: #DD0000">"template_exception_handler"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">rethrow</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">prop</span><span style="color: #007700">&gt;&nbsp;<br /></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->

</div>
</div>then it doesnt rethrow exception. I see the same page with stack trace<br />
<br />
But<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">PHP Code:</div>
<div class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">
<code style="white-space:nowrap">
<!-- php buffer start --></code><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">prop&nbsp;key</span><span style="color: #007700">=</span><span style="color: #DD0000">"template_exception_handler"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">ignore</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">prop</span><span style="color: #007700">&gt;&nbsp;<br /></span><span style="color: #0000BB"></span>
</span>
</code><!-- php buffer end -->

</div>
</div>works fine, and ignores the exception<br />
<br />
please advice how to handle freemarker exceptions by spring.<br />
thank you
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=156962" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=156962" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_156962" /></a>
<a href="newreply.php?do=newreply&amp;p=156962" rel="nofollow" id="qr_156962" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 156962 popup menu -->
<div class="vbmenu_popup" id="postmenu_156962_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Taras</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=28825">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=28825" rel="nofollow">Send a private message to Taras</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=28825" rel="nofollow">Find all posts by Taras</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=28825">Add Taras to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 156962 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #156962 --><div id="lastpost"></div></div></body></html>