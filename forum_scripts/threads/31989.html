<html><body><link rel="stylesheet" type="text/css" href="style.css"/><div id="posts"><!-- post #87948 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit87948" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post87948" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=87948&amp;postcount=1" target="new" rel="nofollow" id="postcount87948" name="1"><strong>1</strong></a> &nbsp;
			
			
			<a href="report.php?p=87948" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post87948"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Nov 29th, 2006, 06:01 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_87948">
<a class="bigusername" href="member.php?u=21441">theoplatt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="theoplatt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_87948", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Nov 2006</div>
<div>
						Posts: 10
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_87948">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
<strong>validation messages &quot;Failed to convert property value of type...&quot;</strong>
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_87948">
			
			Apologies if this should be posted in the web forum but an example of the problem appears in one of the webflow example applications.<br />
<br />
In the swf-sellitem example, if you enter an invalid number into the price field (eg 'asasd') the validation message is the rather unfriendly - <br />
<br />
<br />
<br />
Failed to convert property value of type [java.lang.String] to required type [double] for property 'price'; nested exception is java.lang.NumberFormatException: For input string: &quot;asasd&quot;<br />
Price must be greater than 0.0<br />
<br />
<br />
[See screenshot too]<br />
<br />
Is there a particular message you have to set in your resources to handle this and make it prettier ? or is there something you can do with the form:error tag ?<br />
<br />
Many thanks<br />
<br />
Theo
		</div>
<!-- / message -->
<!-- attachments -->
<div style="padding:6px">
<fieldset class="fieldset">
<legend>Attached Images</legend>
<table cellpadding="0" cellspacing="3" border="0">
<tr>
<td><img class="inlineimg" src="images/attach/jpg.gif" alt="File Type: jpg" width="16" height="16" border="0" style="vertical-align:baseline" /></td>
<td><a href="attachment.php?attachmentid=406&amp;d=1164797996">validationexample.jpg</a> (12.6 KB, 13 views)</td>
</tr>
</table>
</fieldset>
</div>
<!-- / attachments -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=87948" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=87948" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_87948" /></a>
<a href="newreply.php?do=newreply&amp;p=87948" rel="nofollow" id="qr_87948" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 87948 popup menu -->
<div class="vbmenu_popup" id="postmenu_87948_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">theoplatt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=21441">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=21441" rel="nofollow">Send a private message to theoplatt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=21441" rel="nofollow">Find all posts by theoplatt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=21441">Add theoplatt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 87948 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #87948 --><!-- post #87958 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit87958" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post87958" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=87958&amp;postcount=2" target="new" rel="nofollow" id="postcount87958" name="2"><strong>2</strong></a> &nbsp;
			
			
			<a href="report.php?p=87958" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post87958"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Nov 29th, 2006, 07:31 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_87958">
<a class="bigusername" href="member.php?u=7550">klr8</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="klr8 is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_87958", true); </script>
</div>
<div class="smallfont">Senior Member</div>
<div class="smallfont">Spring Team</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2004</div>
<div>Location: Leuven, Belgium</div>
<div>
						Posts: 1,846
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_87958">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_87958">
			
			This is indeed a Spring MVC related. No problem.<br />
Message code generation for errors is done by the MessageCodesResolver. Check the JavaDoc for DefaultMessageCodesResolver for details:<br />
<br />
<a href="http://static.springframework.org/spring/docs/2.0.x/api/org/springframework/validation/DefaultMessageCodesResolver.html">http://static.springframework.org/sp...sResolver.html</a><br />
<br />
Erwin
		</div>
<!-- / message -->
<!-- edit note -->
<div class="smallfont">
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<em>
					
						Last edited by klr8; Nov 29th, 2006 at <span class="time">01:36 PM</span>.
					
					
				</em>
</div>
<!-- / edit note -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=87958" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=87958" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_87958" /></a>
<a href="newreply.php?do=newreply&amp;p=87958" rel="nofollow" id="qr_87958" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 87958 popup menu -->
<div class="vbmenu_popup" id="postmenu_87958_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">klr8</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7550">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://www.ervacon.com">Visit klr8's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7550" rel="nofollow">Find all posts by klr8</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7550">Add klr8 to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 87958 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #87958 --><!-- post #88032 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit88032" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post88032" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=88032&amp;postcount=3" target="new" rel="nofollow" id="postcount88032" name="3"><strong>3</strong></a> &nbsp;
			
			
			<a href="report.php?p=88032" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post88032"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Nov 29th, 2006, 12:22 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_88032">
<a class="bigusername" href="member.php?u=21441">theoplatt</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="theoplatt is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_88032", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Nov 2006</div>
<div>
						Posts: 10
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_88032">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_88032">
			
			Thanks Erwin,<br />
<br />
I've looked through those javadocs and that probably is the problem with the example application as it has no resource file I can see to define the typeMismatch messages.<br />
<br />
I need to do some more research but on the project I'm currently working on I think I have a slightly different problem.<br />
<br />
The project is in a state of transition from a struts to Spring MVC/webflow. The validation messages appears fine in the block we have at the top of the page making use of html and logic struts tags - <br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 146px;
		text-align: left;
		overflow: auto">                &lt;%-- Error Messages --%&gt;
                &lt;logic:messagesPresent&gt;
                    &lt;div class=&quot;error&quot;&gt;
                        &lt;html:messages id=&quot;error&quot;&gt;
                            &lt;bean:write name=&quot;error&quot;/&gt;&lt;br/&gt;
                        &lt;/html:messages&gt;
                    &lt;/div&gt;
                &lt;/logic:messagesPresent&gt;</pre>
</div>All the messages are translated correctly and appear in the short form desired.<br />
<br />
However - if we use the &lt;form:errors&gt; tag on the same page for a field that has failed validation we get the whole block of nastiness.<br />
<br />
It looks to me like its not picking up on the message resource when its doing the translation for the form:errors tags ? possible ? <br />
<br />
I have included this in one of the context files - <br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 66px;
		text-align: left;
		overflow: auto">    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;
        &lt;property name=&quot;basename&quot; value=&quot;resources.MyResources&quot;/&gt;
    &lt;/bean&gt;</pre>
</div>It could just be some struts/tiles/Spring configuration gone a bit askew somewhere.<br />
<br />
Cheers<br />
<br />
Theo
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=88032" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=88032" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_88032" /></a>
<a href="newreply.php?do=newreply&amp;p=88032" rel="nofollow" id="qr_88032" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 88032 popup menu -->
<div class="vbmenu_popup" id="postmenu_88032_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">theoplatt</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=21441">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=21441" rel="nofollow">Send a private message to theoplatt</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=21441" rel="nofollow">Find all posts by theoplatt</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=21441">Add theoplatt to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 88032 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #88032 --><!-- post #88050 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit88050" style="padding:0px 0px 6px 0px">
<table class="tborder" id="post88050" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=88050&amp;postcount=4" target="new" rel="nofollow" id="postcount88050" name="4"><strong>4</strong></a> &nbsp;
			
			
			<a href="report.php?p=88050" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post88050"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Nov 29th, 2006, 01:40 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_88050">
<a class="bigusername" href="member.php?u=7550">klr8</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="klr8 is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_88050", true); </script>
</div>
<div class="smallfont">Senior Member</div>
<div class="smallfont">Spring Team</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Sep 2004</div>
<div>Location: Leuven, Belgium</div>
<div>
						Posts: 1,846
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_88050">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_88050">
			
			The SWF sample indeed does not contain a resources file to turn that error message into human readible form.<br />
<br />
Regarding your problem, my guess would also be that your resources are not getting loaded, or at least not in the correct context.<br />
<br />
Doing some debugging in the app and Spring code might provide some insight into the cause of the problem.<br />
<br />
Erwin
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=88050" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=88050" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_88050" /></a>
<a href="newreply.php?do=newreply&amp;p=88050" rel="nofollow" id="qr_88050" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 88050 popup menu -->
<div class="vbmenu_popup" id="postmenu_88050_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">klr8</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7550">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="http://www.ervacon.com">Visit klr8's homepage!</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7550" rel="nofollow">Find all posts by klr8</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7550">Add klr8 to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 88050 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #88050 --><div id="lastpost"></div></div></body></html>