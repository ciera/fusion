<html><body><link rel="stylesheet" type="text/css" href="style.css"/><div id="posts"><!-- post #54074 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit54074" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post54074" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=54074&amp;postcount=1" target="new" rel="nofollow" id="postcount54074" name="1"><strong>1</strong></a> &nbsp;
			
			
			<a href="report.php?p=54074" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post54074"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 9th, 2006, 01:21 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_54074">
<a class="bigusername" href="member.php?u=15355">haasip satang</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="haasip satang is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_54074", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Mar 2006</div>
<div>
						Posts: 22
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_54074">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
<strong>Form Validation - rejectValue leaves original command object in invalid state</strong>
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_54074">
			
			Hi all, <br />
<br />
being new to Spring I got a question regarding form validation and 'best practises' on how to use it:<br />
<br />
Let's say I have a bean which I use for backing up my form i.e. the bean is returned by the formBackingObject() method from my controller. If the form is submitted the values will be bind to the command object (my bean) which then is passed to the Validator. <br />
<br />
Now the problem: Even if the validator rejects a value the my bean is populated with the wrong, invalid values (which of course kinda makes sence for redisplaying the errors). If a user, however, decides to go somewhere else now instead of correcting his entries this would leave my bean (with invalid values set) somewhere in, let's say session scope. <br />
<br />
With Struts ActionForms this problem cannot occur, since the data isn't transfered to the original object before the validation step is passed successfully (and don't get me wrong here... I'm definitely not a fan of struts action forms). <br />
<br />
Is there any way of achieving a similar behaviour in Spring e.g. with using a clone or instance of the same type for the validation step before actually filling the command object with these invalid values? <br />
<br />
Please give me some advice on how one should cope with such situations.<br />
Thanks!
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=54074" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=54074" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_54074" /></a>
<a href="newreply.php?do=newreply&amp;p=54074" rel="nofollow" id="qr_54074" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 54074 popup menu -->
<div class="vbmenu_popup" id="postmenu_54074_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">haasip satang</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=15355">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=15355" rel="nofollow">Send a private message to haasip satang</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=15355" rel="nofollow">Find all posts by haasip satang</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=15355">Add haasip satang to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 54074 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #54074 --><!-- post #54133 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit54133" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post54133" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=54133&amp;postcount=2" target="new" rel="nofollow" id="postcount54133" name="2"><strong>2</strong></a> &nbsp;
			
			
			<a href="report.php?p=54133" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post54133"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 10th, 2006, 04:45 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_54133">
<a class="bigusername" href="member.php?u=11247">EndlessWinter</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="EndlessWinter is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_54133", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Jul 2005</div>
<div>Location: Russia</div>
<div>
						Posts: 118
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_54133">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_54133">
			
			Bind errrors happens while binding, and if the binding process goes wrong, your bean will not affected. There will be errors object in request scope with appropriate information. So, the bean will be in preinitialized state (for the wrong properties), and more over - during the next GET call to the controller new command object will be created (unless you make session-managed bean yourself).
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=54133" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=54133" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_54133" /></a>
<a href="newreply.php?do=newreply&amp;p=54133" rel="nofollow" id="qr_54133" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 54133 popup menu -->
<div class="vbmenu_popup" id="postmenu_54133_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">EndlessWinter</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=11247">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=11247" rel="nofollow">Send a private message to EndlessWinter</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=11247" rel="nofollow">Find all posts by EndlessWinter</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=11247">Add EndlessWinter to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 54133 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #54133 --><!-- post #54137 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit54137" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post54137" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=54137&amp;postcount=3" target="new" rel="nofollow" id="postcount54137" name="3"><strong>3</strong></a> &nbsp;
			
			
			<a href="report.php?p=54137" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post54137"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 10th, 2006, 05:27 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_54137">
<a class="bigusername" href="member.php?u=7133">Colin Yates</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Colin Yates is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_54137", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>
						Posts: 1,905
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_54137">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_54137">
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>EndlessWinter</strong>
</div>
<div style="font-style:italic">Bind errrors happens while binding, and if the binding process goes wrong, your bean will not affected.</div>
</td>
</tr>
</table>
</div>True; bind errors happen during binding, but the point is that the bind may succeed but validation fails, in which case the command object is updated with incorrect data.  For example, setting a string on a string property will work (no bind errors) but the validator may reject it.<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>EndlessWinter</strong>
</div>
<div style="font-style:italic">.... GET call to the controller new command object will be created (unless you make session-managed bean yourself).</div>
</td>
</tr>
</table>
</div>Indeed.  If you have non-session scoped beans, i.e. created on every request then this isn't a problem.<br />
<br />
If you are using session backed objects and you cannot modify them to be created on each request then you might want to consider modelling the request for change and validating the request for change object.<br />
<br />
Check this post for more info: <a href="http://forum.springframework.org/showthread.php?t=22801&amp;highlight=requestForChange">http://forum.springframework.org/sho...questForChange</a>
</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=54137" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=54137" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_54137" /></a>
<a href="newreply.php?do=newreply&amp;p=54137" rel="nofollow" id="qr_54137" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 54137 popup menu -->
<div class="vbmenu_popup" id="postmenu_54137_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Colin Yates</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7133">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7133" rel="nofollow">Send a private message to Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7133" rel="nofollow">Find all posts by Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7133">Add Colin Yates to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 54137 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #54137 --><!-- post #54389 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit54389" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post54389" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=54389&amp;postcount=4" target="new" rel="nofollow" id="postcount54389" name="4"><strong>4</strong></a> &nbsp;
			
			
			<a href="report.php?p=54389" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post54389"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 13th, 2006, 07:06 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_54389">
<a class="bigusername" href="member.php?u=15355">haasip satang</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="haasip satang is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_54389", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Mar 2006</div>
<div>
						Posts: 22
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_54389">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_54389">
			
			Thanks for your input. As yatesco already pointed out I'm talking about session backed objects. I also know that I could create RequestForChange object every time the page is called and then just validate it...<br />
<br />
With this approach, however, it's the developer again who is responsible for transfering the data from the RequestForChange object to the target domain object (correct me if I'm missing something here). <br />
<br />
I just thought it would be quite nice and handy to have something like a clone of the models at validation time. If - and only if - validation succeeds the data could be transfered to the real targets automatically...without developer impact. Some of this logic could probably happen in the bindAndValidate() method.<br />
<br />
Have you tried this (or a similar) approach or do you have some absolute 'no go' arguments against it?
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=54389" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=54389" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_54389" /></a>
<a href="newreply.php?do=newreply&amp;p=54389" rel="nofollow" id="qr_54389" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 54389 popup menu -->
<div class="vbmenu_popup" id="postmenu_54389_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">haasip satang</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=15355">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=15355" rel="nofollow">Send a private message to haasip satang</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=15355" rel="nofollow">Find all posts by haasip satang</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=15355">Add haasip satang to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 54389 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #54389 --><!-- post #54394 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit54394" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post54394" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=54394&amp;postcount=5" target="new" rel="nofollow" id="postcount54394" name="5"><strong>5</strong></a> &nbsp;
			
			
			<a href="report.php?p=54394" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post54394"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 13th, 2006, 07:46 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_54394">
<a class="bigusername" href="member.php?u=7133">Colin Yates</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Colin Yates is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_54394", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>
						Posts: 1,905
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_54394">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_54394">
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>haasip satang</strong>
</div>
<div style="font-style:italic">With this approach, however, it's the developer again who is responsible for transfering the data from the RequestForChange object to the target domain object (correct me if I'm missing something here). </div>
</td>
</tr>
</table>
</div>It is the responsibility of the domain object to consume the RequestForChange object, not the other way around <img src="images/smilies/smile.gif" border="0" alt="" title="Smile" class="inlineimg" /><br />
<br />
So if you have a User domain object then you would expect methods like:<br />
<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 34px;
		text-align: left;
		overflow: auto">  User.changePassword(NewPasswordDetails details);</pre>
</div>etc.
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=54394" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=54394" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_54394" /></a>
<a href="newreply.php?do=newreply&amp;p=54394" rel="nofollow" id="qr_54394" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 54394 popup menu -->
<div class="vbmenu_popup" id="postmenu_54394_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Colin Yates</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7133">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7133" rel="nofollow">Send a private message to Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7133" rel="nofollow">Find all posts by Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7133">Add Colin Yates to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 54394 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #54394 --><!-- post #54412 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit54412" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post54412" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=54412&amp;postcount=6" target="new" rel="nofollow" id="postcount54412" name="6"><strong>6</strong></a> &nbsp;
			
			
			<a href="report.php?p=54412" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post54412"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 13th, 2006, 10:35 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_54412">
<a class="bigusername" href="member.php?u=15355">haasip satang</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="haasip satang is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_54412", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Mar 2006</div>
<div>
						Posts: 22
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_54412">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_54412">
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>yatesco</strong>
</div>
<div style="font-style:italic">It is the responsibility of the domain object to consume the RequestForChange object, not the other way around <img src="images/smilies/smile.gif" border="0" alt="" title="Smile" class="inlineimg" /></div>
</td>
</tr>
</table>
</div>but who is writing the the domain object? ---&gt; the developer ;-) that's why I was saying it's the responsibility of the developer. <br />
<br />
If we'd have something like the cloning-approach I mentioned in my previous post there would be no coding impact for the developer since everything would be handled by the framework. Without this functionality I don't really see the BIG advantage of being able to bind domain objects directly to the form.<br />
<br />
I'm sure you agree if I say pretty much all form data needs to be validated in most of the cases. And if I would really need to create DTOs / RequestForChange objects for every form that would mean that I could hardly ever use my domain objects for populating the form. But exactely this is one of the arguments always given when ppl talk about SpringMVC and how cool it is (don't get me wrong... I really like Spring so far!).   <br />
<br />
Again my question: do you think working with CLONES (or somethign similar) in the validator would be a feasible solution for this problem e.g: <ol style="list-style-type: decimal"><li>bean is bound to a from.</li>
<li>after submit a clone of that bean gets populated with the values (instead of the original bean backing the form)</li>
<li>if validation succeeds the values will be transfered to the original bean used to back up the form (this would also be done by the framework. No additional code should be needed.)</li>
<li>if validation fails the errors would be shown on the page and the user is asked to correct them. At this point, however, the original form backing object is still untouched and in valid / consistent state.</li>
</ol><br />
Without the cloning approach I currently see NO way of ensuring / enabling the following points in one workflow:<ol style="list-style-type: decimal"><li>bind session backed objects to a form</li>
<li>validate data sent on form submission</li>
<li>ensure that session data is still in valid state, even in case of validation errors</li>
</ol><br />
I hope you understand my point and what I was trying to say. Let me know what you think...
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=54412" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=54412" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_54412" /></a>
<a href="newreply.php?do=newreply&amp;p=54412" rel="nofollow" id="qr_54412" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 54412 popup menu -->
<div class="vbmenu_popup" id="postmenu_54412_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">haasip satang</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=15355">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=15355" rel="nofollow">Send a private message to haasip satang</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=15355" rel="nofollow">Find all posts by haasip satang</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=15355">Add haasip satang to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 54412 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #54412 --><!-- post #56353 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit56353" style="padding:0px 0px 6px 0px">
<!-- this is not the last post shown on the page -->
<table class="tborder" id="post56353" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=56353&amp;postcount=7" target="new" rel="nofollow" id="postcount56353" name="7"><strong>7</strong></a> &nbsp;
			
			
			<a href="report.php?p=56353" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post56353"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 29th, 2006, 05:55 PM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_56353">
<a class="bigusername" href="member.php?u=15515">moseph</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="moseph is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_56353", true); </script>
</div>
<div class="smallfont">Junior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Mar 2006</div>
<div>
						Posts: 10
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_56353">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
<strong>to continue this discussion....</strong>
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_56353">
			
			I am using <b>AbstractWizardFormController</b>, with the following constructor:<br />
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<pre class="alt2" dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 800px;
		height: 82px;
		text-align: left;
		overflow: auto">    ...
    setSessionForm(true);
    setAllowDirtyBack(true);
    ....</pre>
</div>In my validation method, when there is a form field validation error, I want to reset (or change) the value of that field in the command object.  After doing so, the command object that is passed further along has the updated version. However, the command object that is stored in the session doesn't get updated!  <br />
<br />
Do I need to manually set the command object in the session? (perhaps in postProcessPage())  But I would think this should be done automatically, no?<br />
<br />
With Struts, it is possible to update these values (there even exists a method called: reset()).... spring rules.<br />
<br />
Thanks.
		</div>
<!-- / message -->
<!-- edit note -->
<div class="smallfont">
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<em>
					
						Last edited by moseph; Mar 29th, 2006 at <span class="time">07:08 PM</span>.
					
					
				</em>
</div>
<!-- / edit note -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=56353" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=56353" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_56353" /></a>
<a href="newreply.php?do=newreply&amp;p=56353" rel="nofollow" id="qr_56353" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 56353 popup menu -->
<div class="vbmenu_popup" id="postmenu_56353_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">moseph</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=15515">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=15515" rel="nofollow">Send a private message to moseph</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=15515" rel="nofollow">Find all posts by moseph</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=15515">Add moseph to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 56353 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #56353 --><!-- post #56388 -->
<!-- open content container -->
<div align="center">
<div class="page" style="width:100%; text-align:left">
<div style="padding:0px 0px 0px 0px" align="left">
<div id="edit56388" style="padding:0px 0px 6px 0px">
<table class="tborder" id="post56388" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="thead">
<div class="normal" style="float:right">
			&nbsp;
			#<a href="showpost.php?p=56388&amp;postcount=8" target="new" rel="nofollow" id="postcount56388" name="8"><strong>8</strong></a> &nbsp;
			
			
			<a href="report.php?p=56388" rel="nofollow"><img class="inlineimg" src="images/buttons/report.gif" alt="Report Post" border="0" /></a> &nbsp;
			
			
		</div>
<div class="normal">
<!-- status icon and date -->
<a name="post56388"><img class="inlineimg" src="images/statusicon/post_old.gif" alt="Old" border="0" /></a>
			
				Mar 30th, 2006, 03:16 AM
			
			
			<!-- / status icon and date -->
</div>
</td>
</tr>
<tr>
<td class="alt2" style="padding:0px">
<!-- user info -->
<table cellpadding="0" cellspacing="6" border="0" width="100%">
<tr>
<td nowrap="nowrap">
<div id="postmenu_56388">
<a class="bigusername" href="member.php?u=7133">Colin Yates</a>
<img class="inlineimg" src="images/statusicon/user_offline.gif" alt="Colin Yates is offline" border="0" />
<script type="text/javascript"> vbmenu_register("postmenu_56388", true); </script>
</div>
<div class="smallfont">Senior Member</div>
</td>
<td width="100%">&nbsp;</td>
<td valign="top" nowrap="nowrap">
<div class="smallfont">
<div>Join Date: Aug 2004</div>
<div>
						Posts: 1,905
					</div>
<div> </div>
</div>
</td>
</tr>
</table>
<!-- / user info -->
</td>
</tr>
<tr>
<td class="alt1" id="td_post_56388">
<!-- message, attachments, sig -->
<!-- icon and title -->
<div class="smallfont">
<img class="inlineimg" src="images/icons/icon1.gif" alt="Default" border="0" />
</div>
<hr size="1" style="color:#D1D1E1; background-color:#D1D1E1" />
<!-- / icon and title -->
<!-- message -->
<div id="post_message_56388">
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>haasip satang</strong>
</div>
<div style="font-style:italic">but who is writing the the domain object? ---&gt; the developer ;-) that's why I was saying it's the responsibility of the developer. </div>
</td>
</tr>
</table>
</div>The point I was making is that domain objects *have* to be in a consistent state *all* the time; RequestForChange objects don't.  If the RFC object isn't consistent, the domain object simply ignores it (throws Exception, whatever).<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>haasip satang</strong>
</div>
<div style="font-style:italic">If we'd have something like the cloning-approach I mentioned in my previous post there would be no coding impact for the developer since everything would be handled by the framework. Without this functionality I don't really see the BIG advantage of being able to bind domain objects directly to the form.</div>
</td>
</tr>
</table>
</div>The only advantage between cloning or RFC is that the RFC models the *request* which may contain extra parameters (see the RequestForUser.password, RequestForUser.confirmationPassword example), otherwise we are talking about the same concept; a seperate container of values which when validated can be used to populate the domain.  We also disagree on how the domain object should be validated, and who has the responsibility for updating it.<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>haasip satang</strong>
</div>
<div style="font-style:italic">I'm sure you agree if I say pretty much all form data needs to be validated in most of the cases. And if I would really need to create DTOs / RequestForChange objects for every form that would mean that I could hardly ever use my domain objects for populating the form. But exactely this is one of the arguments always given when ppl talk about SpringMVC and how cool it is (don't get me wrong... I really like Spring so far!).   </div>
</td>
</tr>
</table>
</div>DTO != RequestForChange <img src="images/smilies/smile.gif" border="0" alt="" title="Smile" class="inlineimg" />  The cloning approach your mentioned is almost exactly the same, but RequestForChange is a different concept; it is explicitly modelling the *request*, not the domain object.<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>haasip satang</strong>
</div>
<div style="font-style:italic">Again my question: do you think working with CLONES (or somethign similar) in the validator would be a feasible solution for this problem e.g: <ol style="list-style-type: decimal"><li>bean is bound to a from.</li>
<li>after submit a clone of that bean gets populated with the values (instead of the original bean backing the form)</li>
<li>if validation succeeds the values will be transfered to the original bean used to back up the form (this would also be done by the framework. No additional code should be needed.)</li>
<li>if validation fails the errors would be shown on the page and the user is asked to correct them. At this point, however, the original form backing object is still untouched and in valid / consistent state.</li>
</ol></div>
</td>
</tr>
</table>
</div>Sure.  As I said previously, we are both talking about having a seperate data container to temporarily hold the values.<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>haasip satang</strong>
</div>
<div style="font-style:italic">Without the cloning approach I currently see NO way of ensuring / enabling the following points in one workflow:<ol style="list-style-type: decimal"><li>bind session backed objects to a form</li>
<li>validate data sent on form submission</li>
<li>ensure that session data is still in valid state, even in case of validation errors</li>
</ol></div>
</td>
</tr>
</table>
</div>But the point is that you are not binding session backed objects to a form, you are binding them to the *clone*.  The only difference I see between our two suggestions are that you are mentioning automating the creation/consumption of the data carrier.<br />
<br />
<div style="margin:20px; margin-top:5px; ">
<div class="smallfont" style="margin-bottom:2px">Quote:</div>
<table cellpadding="6" cellspacing="0" border="0" width="100%">
<tr>
<td class="alt2" style="border:1px inset">
<div>
					Originally Posted by <strong>haasip satang</strong>
</div>
<div style="font-style:italic">I hope you understand my point and what I was trying to say. Let me know what you think...</div>
</td>
</tr>
</table>
</div>I think we are both talking about the same &quot;kind&quot; of thing, we are maybe using different terminology.  The two key differences are I propose modelling the request for a change, where as you are modelling the changed object itself, and I propose the domain object being responsible for updating itself, you are proposing using the framework.<br />
<br />
You would need to be careful about your cloning approach though as your domain model may well contain collaborators that cannot be cloned (think hibernate backed DAOs etc.).  If your domain model looks like Value Objects passed to stateless services then it should be fine.
		</div>
<!-- / message -->
<div style="margin-top: 10px" align="right">
<!-- controls -->
<a href="newreply.php?do=newreply&amp;p=56388" rel="nofollow"><img src="images/buttons/quote.gif" alt="Reply With Quote" border="0" /></a>
<a href="newreply.php?do=newreply&amp;p=56388" rel="nofollow" onclick="return false"><img src="images/buttons/multiquote_off.gif" alt="Multi-Quote This Message" border="0" id="mq_56388" /></a>
<a href="newreply.php?do=newreply&amp;p=56388" rel="nofollow" id="qr_56388" onclick="return false"><img src="images/buttons/quickreply.gif" alt="Quick reply to this message" border="0" /></a>
<!-- / controls -->
</div>
<!-- message, attachments, sig -->
</td>
</tr>
</table>
<!-- post 56388 popup menu -->
<div class="vbmenu_popup" id="postmenu_56388_menu" style="display:none;">
<table cellpadding="4" cellspacing="1" border="0">
<tr>
<td class="thead">Colin Yates</td>
</tr>
<tr><td class="vbmenu_option"><a href="member.php?u=7133">View Public Profile</a></td></tr>
<tr><td class="vbmenu_option"><a href="private.php?do=newpm&amp;u=7133" rel="nofollow">Send a private message to Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="search.php?do=finduser&amp;u=7133" rel="nofollow">Find all posts by Colin Yates</a></td></tr>
<tr><td class="vbmenu_option"><a href="profile.php?do=addlist&amp;userlist=buddy&amp;u=7133">Add Colin Yates to Your Contacts</a></td></tr>
</table>
</div>
<!-- / post 56388 popup menu -->
</div>
</div>
</div>
</div>
<!-- / close content container -->
<!-- / post #56388 --><div id="lastpost"></div></div></body></html>